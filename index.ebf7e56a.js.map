{"mappings":"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","sources":["src/index.js","src/js/markup-books.js","src/js/axios-get.js","src/js/renderCategories.js","src/js/createCategoryMarcup.js","src/js/get-top-books.js","src/js/local-storage.js","src/js/modal.js","src/js/scroll-up.js","src/js/onFondsBtnClick.js","src/js/seeMore.js"],"sourcesContent":["// add your import from js file here 1\n\n// add your import from js file here 2\n\nimport './js/header-menu';\n\nimport './js/markup-books';\n\nimport './js/axios-get';\n\nimport './js/get-top-books';\n\nimport './js/modal';\n// add your import from js file here\n\n// add your import from js file here\n\n// import './js/shoplist';\n\n// add your import from js file here\n\nimport './js/auth-for-all-pages';\n\n// import './js/footer.js';\n\nimport './js/scroll-up.js';\n\n// import './js/loader.js';\n\nimport './js/onFondsBtnClick.js';\n\nimport './js/renderCategories.js';\n\nimport './js/toggleTheme.js';\n\nimport './js/createFoundsMarcup';\n\nimport './js/createCategoryMarcup.js';\nimport './js/seeMore';\n ","export const makeMarkupForBooks = (booksArray) => {\n  const markup = booksArray.map(\n    ({ book_image, title, author, _id, list_name, description, buy_links }) => `\n      <li class=\"book-item\" class=\"_list\"\n        data-title=\"${title}\"\n        data-image=\"${book_image}\"\n        data-author=\"${author}\"\n        data-listName=\"${list_name}\"\n        data-description=\"${description}\"\n        data-linkNameAmazon=\"${buy_links[0].name}\"\n        data-linkUrlAmazon=\"${buy_links[0].url}\"\n        data-linkNameApple=\"${buy_links[1].name}\"\n        data-linkUrlApple=\"${buy_links[1].url}\"\n        data-linkNameBarnes=\"${buy_links[2].name}\"\n        data-linkUrlBarnes=\"${buy_links[2].url}\"\n      >\n        <a href=\"#\" class=\"_link\" class=\"book-item\" data-id=\"${_id}\">\n          <div class=\"thumb\">\n            <img class=\"lazyload\" src=\"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png\" data-src=\"${book_image ? book_image:'https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png'}\" alt=\"${title}\" loading=\"lazy\"/>\n            <div class=\"overlay\">\n              <p class=\"overlay-text\">quick view </p>\n            </div>\n          </div>\n          <h4 class=\"book-title\">${title}</h4>\n          <p class=\"book-author\">${author}</p>\n        </a>\n      </li>\n    `\n  ).join('');\n  return markup;\n};\n\n\n\n","import axios from \"axios\";\n\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\nconst categoryList = '/books/category-list';\nconst topBooks = '/books/top-books';\nconst categoryBooks = '/books/category'\nconst book = '/books/';  \n        \nconst getCategoryList = async () => {\n  try {\n    const result = await axios.get(`${BASE_URL}${categoryList}`);\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n};\n\nconst getTopBooks = async () =>{\n  try {\n    const result = await axios.get(`${BASE_URL}${topBooks}`);\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n  throw new Error(error);\n};\n\nconst getBooksByCategory = async (category) => {\n  try {\n    const result = await axios.get((`${BASE_URL}${categoryBooks}`), {\n      params: {category},\n    } );\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n};\n\nconst getBookById = async (id) => {\n  try {\n    const result = await axios.get(`${BASE_URL}${book}${id}`);\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n};\n\n\nexport { getCategoryList, getTopBooks, getBooksByCategory, getBookById }\n\n//для getBooksByCategory, getBookById потрібно передавати параметри \n// getBooksByCategory(category) getBookById(id)","import { getCategoryList } from \"./axios-get\";\n\nexport const categoriesList = document.querySelector('.categories__list');\n\nconst renderCategories = async () => {\n    const categories = await getCategoryList();\n    const markup = categories.map(\n        ({ list_name }) => `\n                <li class='categories__item _list'>\n                    <a data-categories__item data-listName='${list_name}' rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${list_name}</a>\n                </li>`\n    ).sort().join('');\n    \n    return markup;\n};\n\nrenderCategories()\n    .then((resp) => {\n        categoriesList.insertAdjacentHTML('beforeend', resp);\n                \n        \n    })\n    .catch((err) => {\n        console.log('err', err)\n    })\n\n","import { categoriesList } from './renderCategories';\nimport { getBooksByCategory } from \"./axios-get\";\nimport { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { loaderOn, loaderOff } from './loader';\n\nexport const categoryTitle = document.querySelector('.title_best-sellers'); \n\nexport const createCategoryMarcup = async (category) => {\n    return await getBooksByCategory(category);\n};\n\nconst onCategoryClick = (e) => {\n    if (e.target.hasAttribute('data-categories__item')) {\n        e.preventDefault();\n        // loaderOn();\n        const list = document.querySelector('.categories__list');\n        const category = list.getElementsByClassName('categories__link');\n\n        const arr = Array.from(category);\n        for (let index = 0; index < arr.length; index++) {\n            const element = arr[index];\n            element.classList.remove('active__link');\n        }\n        e.target.classList.add('active__link');\n\n        const titleTExt = e.target.dataset.listname.split(' ');\n        titleTExt.pop();\n        const accentText = e.target.dataset.listname.split(' ')[e.target.dataset.listname.split(' ').length - 1];\n        createCategoryMarcup(e.target.dataset.listname)\n            .then((resp) => {\n                \n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                if ( document.documentElement.scrollWidth >= 1440) {\n                    return;\n                }\n                document.querySelector('#best-sellers-container').scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n\n                // loaderOff();\n            })\n    }\n};\n\ncategoriesList.addEventListener('click', onCategoryClick);","import { getTopBooks } from './axios-get';\nimport { makeMarkupForBooks } from './markup-books';\nimport { categoryTitle } from './createCategoryMarcup';\nimport { loaderOn, loaderOff } from './loader';\n\nexport const mainBookList = document.querySelector('.best_list');\nlet numBooksPerRow = 5;\nlet savedMarkup = null;\n\nconst debounce = (func, delay) => {\n  let timeoutId;\n  return (...args) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func(...args), delay);\n  };\n};\n\nconst shouldRenderMarkup = () => {\n  return !categoryTitle.classList.contains('no-change');\n};\n\nconst renderStartMarkup = async () => {\n  if (!shouldRenderMarkup()) return;\n\n  try {\n    // loaderOn();\n    const dataMarkup = await getTopBooks();\n    if (dataMarkup.length === 0) return;\n\n    const firstIndexBooks = dataMarkup.map(({ books, list_name }) => {\n      const booksSlice = books.slice(0, numBooksPerRow);\n      return `<li class='best-item _list'>\n                <h3 class='min-title'>${list_name}</h3>\n                <ul class='books-list'>\n                    ${makeMarkupForBooks(booksSlice)}\n                </ul>\n                <button class='see_more' data-name=\"${list_name}\">See More</button>\n              </li>`;\n    });\n\n    mainBookList.innerHTML = firstIndexBooks.join('');\n  } catch (error) {\n    console.error(error);\n  } finally {\n    // loaderOff();\n  }\n};\n\nconst handleResize = () => {\n  numBooksPerRow = determineNumBooksPerRow();\n  renderStartMarkup();\n};\n\nconst debouncedHandleResize = debounce(handleResize, 300);\nwindow.addEventListener('resize', debouncedHandleResize);\n\nfunction determineNumBooksPerRow() {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return 1;\n  } else if (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n    return 3;\n  } else {\n    return 5;\n  }\n}\n\nconst restoreMarkup = () => {\n  if (!shouldRenderMarkup() && savedMarkup) {\n    mainBookList.innerHTML = savedMarkup;\n  }\n};\n\nwindow.addEventListener('resize', restoreMarkup);\n\nwindow.addEventListener('load', () => {\n  handleResize();\n});\n","export const BOOK_LIST = 'book_list';\n\nexport const getItems = () => {\n  const bookList = localStorage.getItem(BOOK_LIST);\n  if (bookList) {\n    return JSON.parse(bookList);\n  }\n\n  return [];\n};  \n\nexport const getItem = id => {\n  const bookList = getItems();\n  return   bookList.find(book => book.id === id)  \n}; \n\nexport const removeItem = id => {\n  const bookList = getItems();\n  const index = bookList.findIndex((book) => book.id === id);\n  bookList.splice(index, 1);\n\n  localStorage.setItem(BOOK_LIST, JSON.stringify(bookList));\n}; \n\nexport const setItem = (data) => {\n  const bookList = getItems();\n  bookList.push(data);\n  localStorage.setItem(BOOK_LIST, JSON.stringify(bookList));\n}\n\n","import { setItem, getItem, removeItem } from './local-storage';\nimport { pullBookData } from './auth-send-data';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebase';\nimport { getAuth } from 'firebase/auth';\nconst auth = getAuth(app);\n\nconst el = {\n  body: document.querySelector('body'),\n  modal: document.getElementById('modal'),\n  modalInner: document.getElementById('modal-inner'),\n  modalTitle: document.getElementById('modal-title'),\n  modalAuthor: document.getElementById('modal-author'),\n  modalDescr: document.getElementById('modal-description'),\n  modalImg: document.getElementById('modal-image'),\n  modalClose: document.getElementById('modal-close-btn'),\n  amazonLink: document.getElementById('amazon-link'),\n  appleLink: document.getElementById('apple-link'),\n  barnesLink: document.getElementById('barnes-link'),\n  addToList: document.getElementById('modal-add-to-list'),\n  modalGreetings: document.getElementById('modal-greetings-text'),\n  books: document.getElementById('best-sellers-container'),\n};\n\nconst BUTTON_ADD_TEXT = 'Add to shopping list';\nconst BUTTON_REMOVE_TEXT = 'Remove from the shopping list';\nlet bookInfo = {};\nlet currentBookId;\nlet isBookAdded = false;\n\nconst onBookClick = e => {\n  e.preventDefault();\n\nonAuthStateChanged(auth, (user) => {\n    if (user) {\n      el.addToList.disabled = false;\n      el.addToList.style.cursor = 'pointer';\n    } else {\n      el.addToList.disabled = true;\n      el.addToList.style.cursor = 'not-allowed';\n    }\n});\n\n  if (!e.target.closest('.book-item')) return;\n  el.modalClose.addEventListener('click', onCloseModal);\n  document.addEventListener('keydown', onCloseModalESC);\n  el.addToList.addEventListener('click', toggleToList);\n  el.modal.addEventListener('click', onBackdrop);\n  const bookItem = e.target.closest('.book-item');\n\n  // get book data from attrs\n  bookInfo = {\n    id: bookItem.querySelector('._link').dataset.id,\n    title: bookItem.dataset.title,\n    img: bookItem.dataset.image,\n    author: bookItem.dataset.author,\n    description: bookItem.dataset.description,\n    amazonLink: bookItem.dataset.linkurlamazon,\n    appleLink: bookItem.dataset.linkurlapple,\n    barnesLink: bookItem.dataset.linkurlbarnes,\n    listname: bookItem.dataset.listname,\n  };\n\n  // Insert book data to modal and save current BookId\n  el.modalTitle.textContent = bookInfo.title;\n  el.modalAuthor.textContent = bookInfo.author;\n  el.modalDescr.textContent = bookInfo.description;\n  el.modalImg.src = bookInfo.img;\n  el.amazonLink.href = bookInfo.amazonLink;\n  el.appleLink.href = bookInfo.appleLink;\n  el.barnesLink.href = bookInfo.barnesLink;\n\n  currentBookId = bookInfo.id;\n\n  // check if this book has been already added to storage\n  isBookAdded = getItem(bookInfo.id);\n  if (!isBookAdded) {\n    el.addToList.textContent = BUTTON_ADD_TEXT;\n    el.modalGreetings.classList.add('modal-greetings-text-js');\n  } else {\n    el.addToList.textContent = BUTTON_REMOVE_TEXT;\n    el.modalGreetings.classList.remove('modal-greetings-text-js');\n  }\n\n  // open Modal\n  el.body.classList.add('no-scroll-js');\n  el.modal.classList.toggle('modal-js');\n};\n\nconst onCloseModal = (e) => {\n  el.modal.classList.add('modal-js');\n  el.body.classList.remove('no-scroll-js');\n  el.modalClose.removeEventListener('click', onCloseModal);\n  document.removeEventListener('keydown', onCloseModalESC);\n  el.addToList.removeEventListener('click', toggleToList);\n  el.modal.removeEventListener('click', onBackdrop);\n};\n\n  \n\nconst onBackdrop = (e) => {\n    if (e.target === e.currentTarget) {\n      onCloseModal();\n      el.modalClose.removeEventListener('click', onCloseModal);\n      document.removeEventListener('keydown', onCloseModalESC);\n      el.addToList.removeEventListener('click', toggleToList);\n      el.modal.removeEventListener('click', onBackdrop);\n    }\n};\n\nconst onCloseModalESC = e => {\n  if (e.key === 'Escape') {\n    onCloseModal();\n    el.modalClose.removeEventListener('click', onCloseModal);\n    document.removeEventListener('keydown', onCloseModalESC);\n    el.addToList.removeEventListener('click', toggleToList);\n    el.modal.removeEventListener('click', onBackdrop);\n  }\n};\n\nconst toggleToList = () => {\n  if (!isBookAdded) {\n    setItem(bookInfo);\n    pullBookData(bookInfo);\n    el.addToList.textContent = BUTTON_REMOVE_TEXT;\n    el.modalGreetings.classList.remove('modal-greetings-text-js');\n    isBookAdded = true;\n  } else {\n    removeItem(currentBookId);\n    el.addToList.textContent = BUTTON_ADD_TEXT;\n    el.modalGreetings.classList.add('modal-greetings-text-js');\n    isBookAdded = false;\n  }\n};\n\nel.books.addEventListener('click', onBookClick);\n\n// el.modalInner.addEventListener('click', e => e.stopPropagation());\n\n// el.books.removeEventListener","//scroll-up\nconst btnGoTop = document.querySelector(\".go-top\")\nbtnGoTop.hidden = true;\n\nexport const goTop = () => {\n    if (window.scrollY > 0) {\n        window.scrollBy(0, -82);\n        setTimeout(goTop, 0);\n    }\n}\n\nconst onScroll = () => {\n    const offset = window.scrollY;\n    const coords = document.documentElement.clientHeight;\n    if (offset*5 >= coords) {\n        btnGoTop.hidden = false\n    } else {\n        btnGoTop.hidden = true;\n    }\n}\n\nwindow.addEventListener('scroll', onScroll);\nbtnGoTop.addEventListener('click', goTop);","import { doc } from \"firebase/firestore\";\n\nconst btn = document.querySelector('.support-ukraine__btn');\nconst list = document.querySelector('.support-ukraine__list');\nconst container = document.querySelector('.support-ukraine');\n\nconst onFondsBtnClick = () => {\n    list.classList.toggle('open');\n    container.classList.toggle('open');\n    btn.classList.toggle('open');\n}\n\nbtn.addEventListener('click', onFondsBtnClick);","import { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { createCategoryMarcup, categoryTitle } from './createCategoryMarcup';\nimport { loaderOn, loaderOff } from './loader';\nimport { goTop } from './scroll-up';\n\nconst onSeeMoreClick = (e) => {\n    if (e.target.classList.contains('see_more')) {\n        e.preventDefault();\n        \n        const list = document.querySelector('.categories__list');\n        const category = list.getElementsByClassName('categories__link');\n\n        const arr = Array.from(category);\n        for (let index = 0; index < arr.length; index++) {\n            const element = arr[index];\n            element.classList.remove('active__link');\n\n            if (e.target.dataset.name === element.innerText) {\n                element.classList.add('active__link');\n\n            }\n        }\n\n        const titleTExt =  e.target.dataset.name.split(' ');\n        titleTExt.pop();\n        const accentText =  e.target.dataset.name.split(' ')[ e.target.dataset.name.split(' ').length - 1];\n        createCategoryMarcup( e.target.dataset.name)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                // loaderOff();\n                // if ( document.documentElement.scrollWidth >= 1440) {\n                //     return;\n                // }\n                document.querySelector('#best-sellers-container').scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n            })\n    }\n};\n\nmainBookList.addEventListener('click', onSeeMoreClick);"],"names":["parcelRequire","$e8bcbeed10afa2e6$export$c2ff2758ce23ccbb","booksArray","map","book_image","title","author","_id","list_name","description","buy_links","name","url","join","$dIxxU","$e19992f8c0651f88$var$BASE_URL","$e19992f8c0651f88$export$97875efe23d1d9ba","async","default","get","data","error","console","log","$e19992f8c0651f88$export$3a1253a897925caa","error1","Error","$e19992f8c0651f88$export$6777c992b9bef59e","category","params","$7ed053496bcb5dee$export$94bc654d13d3e8cb","document","querySelector","sort","$7ed053496bcb5dee$var$renderCategories","then","resp","insertAdjacentHTML","catch","err","$64ad76ef3b5005dd$export$fc6e89e9bf9f348b","$64ad76ef3b5005dd$export$8d0d2589e3c58f4b","addEventListener","e","target","hasAttribute","preventDefault","getElementsByClassName","arr","Array","from","index","length","classList","remove","add","titleTExt","dataset","listname","split","pop","accentText","innerHTML","$6726a9fd3686059c$export$354f2e393cddbae9","documentElement","scrollWidth","scrollIntoView","behavior","block","$6726a9fd3686059c$var$numBooksPerRow","$6726a9fd3686059c$var$shouldRenderMarkup","contains","$6726a9fd3686059c$var$renderStartMarkup","dataMarkup","firstIndexBooks","books","booksSlice","slice","$6726a9fd3686059c$var$handleResize","window","matchMedia","matches","$6726a9fd3686059c$var$debouncedHandleResize","func","delay","timeoutId","args","clearTimeout","setTimeout","$6726a9fd3686059c$var$debounce","$3791646d3ae2cee8$export$19b3e5dd6252b08f","$3791646d3ae2cee8$export$d2f92acf417bbf5d","bookList","localStorage","getItem","JSON","parse","$3791646d3ae2cee8$export$fe2d9b4e03920b4c","id","findIndex","book","splice","setItem","stringify","$3791646d3ae2cee8$export$8a8216c44337cd5","push","$40873ecf3c18e122$var$auth","getAuth","$iNWLi","app","$40873ecf3c18e122$var$el","body","modal","getElementById","modalInner","modalTitle","modalAuthor","modalDescr","modalImg","modalClose","amazonLink","appleLink","barnesLink","addToList","modalGreetings","$40873ecf3c18e122$var$BUTTON_ADD_TEXT","$40873ecf3c18e122$var$BUTTON_REMOVE_TEXT","$40873ecf3c18e122$var$currentBookId","$40873ecf3c18e122$var$bookInfo","$40873ecf3c18e122$var$isBookAdded","$40873ecf3c18e122$var$onCloseModal","removeEventListener","$40873ecf3c18e122$var$onCloseModalESC","$40873ecf3c18e122$var$toggleToList","$40873ecf3c18e122$var$onBackdrop","currentTarget","key","textContent","$6uLmu","pullBookData","$gQOBw","onAuthStateChanged","user","disabled","style","cursor","closest","bookItem","img","image","linkurlamazon","linkurlapple","linkurlbarnes","src","href","find","toggle","$17f8071d162f96bc$var$btnGoTop","hidden","$17f8071d162f96bc$export$f3c717e3626b749b","scrollY","scrollBy","offset","coords","clientHeight","$e70c8d452da720fe$var$btn","$e70c8d452da720fe$var$list","$e70c8d452da720fe$var$container","element","innerText"],"version":3,"file":"index.ebf7e56a.js.map"}