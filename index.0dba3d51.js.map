{"mappings":"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","sources":["src/js/header-menu.js","src/js/markup-books.js","src/js/get-top-books.js","src/js/renderCategories.js","src/js/createCategoryMarcup.js","src/js/loader.js","src/fonds.json","src/js/createFoundsMarcup.js","src/js/seeMore.js"],"sourcesContent":["const refs = {\n    btnHeaderMenu: document.querySelector('.header-menu'), \n    iconBurger: document.querySelector('.js-menu-open'),\n    iconCross: document.querySelector('.js-menu-close'),\n    menuContainer: document.querySelector('.js-menu-container'),\n    btnLogOut: document.querySelector('.js_log_out'),\n}\nconst body = document.body;\n\nrefs.btnHeaderMenu.addEventListener('click', (e) => {\n    console.log(e);\n    e.currentTarget.classList.remove('hidden');\n    refs.iconCross.classList.add('hidden');\n}\n);\n\n","export const makeMarkupForBooks = (booksArray) => {\n  const markup = booksArray.map(\n    ({ book_image, title, author, _id, list_name, description, buy_links }) => `\n      <li class=\"book-item\" class=\"_list\"\n        data-title=\"${title}\"\n        data-image=\"${book_image}\"\n        data-author=\"${author}\"\n        data-listName=\"${list_name}\"\n        data-description=\"${description}\"\n        data-linkNameAmazon=\"${buy_links[0].name}\"\n        data-linkUrlAmazon=\"${buy_links[0].url}\"\n        data-linkNameApple=\"${buy_links[1].name}\"\n        data-linkUrlApple=\"${buy_links[1].url}\"\n        data-linkNameBarnes=\"${buy_links[2].name}\"\n        data-linkUrlBarnes=\"${buy_links[2].url}\"\n      >\n        <a href=\"#\" class=\"_link\" class=\"book-item\" data-id=\"${_id}\">\n          <div class=\"thumb\">\n            <img class=\"lazyload\" src=\"../images/testBook.png\" data-src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\"/>\n            <div class=\"overlay\">\n              <p class=\"overlay-text\">quick view </p>\n            </div>\n          </div>\n          <h3 class=\"book-title\">${title}</h3>\n          <p class=\"book-author\">${author}</p>\n        </a>\n      </li>\n    `\n  ).join('');\n  return markup;\n};\n\n\n\n","import { getTopBooks } from './axios-get';\nimport { makeMarkupForBooks } from './markup-books';\nimport { categoryTitle } from './createCategoryMarcup';\n\nexport const mainBookList = document.querySelector('.best_list');\nlet numBooksPerRow = 5;\nlet savedMarkup = null;\n\nconst debounce = (func, delay) => {\n  let timeoutId;\n  return (...args) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func(...args), delay);\n  };\n};\n\nconst shouldRenderMarkup = () => {\n  return !categoryTitle.classList.contains('no-change');\n};\n\nconst renderStartMarkup = async () => {\n  if (!shouldRenderMarkup()) return;\n\n  try {\n    const dataMarkup = await getTopBooks();\n    if (dataMarkup.length === 0) return;\n\n    const firstIndexBooks = dataMarkup.map(({ books, list_name }) => {\n      const booksSlice = books.slice(0, numBooksPerRow);\n      return `<li class='best-item _list'>\n                <h4 class='min-title'>${list_name}</h4>\n                <ul class='books-list'>\n                    ${makeMarkupForBooks(booksSlice)}\n                </ul>\n                <button class='see_more' data-name=\"${list_name}\">See More</button>\n              </li>`;\n    });\n\n    mainBookList.innerHTML = firstIndexBooks.join('');\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst handleResize = () => {\n  numBooksPerRow = determineNumBooksPerRow();\n  renderStartMarkup();\n};\n\nconst debouncedHandleResize = debounce(handleResize, 150);\nwindow.addEventListener('resize', debouncedHandleResize);\n\nfunction determineNumBooksPerRow() {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return 1;\n  } else if (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n    return 3;\n  } else {\n    return 5;\n  }\n}\n\nconst restoreMarkup = () => {\n  if (!shouldRenderMarkup() && savedMarkup) {\n    mainBookList.innerHTML = savedMarkup;\n  }\n};\n\nwindow.addEventListener('resize', restoreMarkup);\n\nwindow.addEventListener('load', () => {\n  handleResize();\n});\n","import { getCategoryList } from \"./axios-get\";\n\nexport const categoriesList = document.querySelector('.categories__list');\n\nconst renderCategories = async () => {\n    const categories = await getCategoryList();\n    const markup = categories.map(\n        ({ list_name }) => `\n                <li class='categories__item _list'>\n                    <a data-categories__item rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${list_name}</a>\n                </li>`\n    ).sort().join('');\n    return markup;\n};\n\nrenderCategories()\n    .then((resp) => {\n        categoriesList.insertAdjacentHTML('beforeend', resp);\n    })\n    .catch((err) => {\n        console.log('err', err)\n    });\n\n","import { categoriesList } from './renderCategories';\nimport { getBooksByCategory } from \"./axios-get\";\nimport { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nexport const categoryTitle = document.querySelector('.title_best-sellers');\nconst categoryAccent = document.querySelector('.title_book');\n\n\nexport const createCategoryMarcup = async (category) => {\n    return await getBooksByCategory(category);\n};\n\nconst onCategoryClick = (e) => {\n    if (e.target.hasAttribute('data-categories__item')) {\n        e.preventDefault();\n        const titleTExt = e.target.innerText.split(' ');\n        titleTExt.pop();\n        const accentText = e.target.innerText.split(' ')[e.target.innerText.split(' ').length - 1];\n        createCategoryMarcup(e.target.innerText)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                console.log('resp', resp)\n            })\n    }\n};\n\ncategoriesList.addEventListener('click', onCategoryClick);","const wrapLoader = document.querySelector('.wrapper-loader');\nconst loader = document.querySelector('.loader');\n\nconst loaderOn = () => {\n    loader.classList.remove('hidden-loader');\n    wrapLoader.classList.remove('hidden-loader');\n}\n\nconst loaderOff = () => {\n    loader.classList.add('hidden-loader');\n    wrapLoader.classList.add('hidden-loader');\n}\nloaderOff()\n\nexport { loaderOn, loaderOff }\n\n\n\n// у функціях де іду запит на початку ставимо loaderOn,\n// у блок finally loaderOff\n\n//<div class=\"wrapper-loader\"></div><div class=\"loader\"></div>\n\n","[\n    { \n        \"title\": \"Save the Children\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/Save_the_Children.png\",\n        \"url\": \"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis\"\n    },\n    {\n        \"title\": \"Project HOPE\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/project_Hope.png\",\n        \"url\": \"https://www.projecthope.org/country/ukraine/\"\n    },\n    {\n        \"title\": \"UNITED24\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/United24.png\",\n        \"url\": \"https://u24.gov.ua/uk\"\n    },\n    {\n        \"title\": \"International Medical Corps\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/Internation_medical_corps.png\",\n        \"url\": \"https://internationalmedicalcorps.org/country/ukraine/\"\n    },\n    {\n        \"title\": \"Medicins Sans Frontieres\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/Medicins_sans_frontieres.png\",\n        \"url\": \"https://www.msf.org/ukraine\"\n    },\n    {\n        \"title\": \"RAZOM\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/Razom.png\",\n        \"url\": \"https://www.razomforukraine.org/\"\n    },\n    {\n        \"title\": \"Action against hunger\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/Action_against_hunger.png\",\n        \"url\": \"https://www.actionagainsthunger.org/location/europe/ukraine/\"\n    },\n    {\n        \"title\": \"World vision\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/World_vision.png\",\n        \"url\": \"https://www.wvi.org/emergencies/ukraine\"\n    },\n    {\n        \"title\": \"Serhiy Prytula Charity Foundation\",\n        \"img\": \"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/prutyla.png\",\n        \"url\": \"https://prytulafoundation.org/en\"\n    }\n]","import fonds from '../fonds.json';\n\nconst foundsList = document.querySelector('.support-ukraine__list');\nconst createFoundsMarcup = () => {\n    return foundsList.innerHTML = fonds.map(({ title, url, img }) => `\n        <li class='support-ukraine__item'>\n            <a target=\"_blank\" rel='noopener no-referrel nofollow' class='support-ukraine__link _link' href='${url}'>\n            <img src=\"${img}\" alt=\"${title}\">\n            </a>\n        </li>`\n    ).join('');\n}\n\ncreateFoundsMarcup();","import { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { createCategoryMarcup, categoryTitle } from './createCategoryMarcup';\n\nconst onSeeMoreClick = (e) => {\n    if (e.target.classList.contains('see_more')) {\n        console.log('e', e.target.dataset.name);\n        const titleTExt =  e.target.dataset.name.split(' ');\n        titleTExt.pop();\n        const accentText =  e.target.dataset.name.split(' ')[ e.target.dataset.name.split(' ').length - 1];\n        createCategoryMarcup( e.target.dataset.name)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                console.log('resp', resp)\n            })\n    }\n};\n\nmainBookList.addEventListener('click', onSeeMoreClick);"],"names":["$c628cd15aa7989e3$var$refs","btnHeaderMenu","document","querySelector","iconBurger","iconCross","menuContainer","btnLogOut","body","addEventListener","e","console","log","currentTarget","classList","remove","add","$0748698d39923467$export$c2ff2758ce23ccbb","booksArray","map","book_image","title","author","_id","list_name","description","buy_links","name","url","join","$du6kM","parcelRequire","$0062a3ce137c21ac$export$94bc654d13d3e8cb","async","getCategoryList","sort","$0062a3ce137c21ac$var$renderCategories","then","resp","insertAdjacentHTML","catch","err","$2c4cada00c5298b3$export$fc6e89e9bf9f348b","$2c4cada00c5298b3$export$8d0d2589e3c58f4b","category","getBooksByCategory","target","hasAttribute","preventDefault","titleTExt","innerText","split","pop","accentText","length","innerHTML","$90e6a17a15f2fb61$export$354f2e393cddbae9","$90e6a17a15f2fb61$var$numBooksPerRow","$90e6a17a15f2fb61$var$shouldRenderMarkup","contains","$90e6a17a15f2fb61$var$handleResize","window","matchMedia","matches","dataMarkup","getTopBooks","firstIndexBooks","books","booksSlice","slice","error","$90e6a17a15f2fb61$var$renderStartMarkup","$90e6a17a15f2fb61$var$debouncedHandleResize","func","delay","timeoutId","args","clearTimeout","setTimeout","$90e6a17a15f2fb61$var$debounce","$bdfcdc80b4c38739$var$wrapLoader","$bdfcdc80b4c38739$var$loader","$3e079012d4bd0ddd$exports","JSON","parse","$parcel$interopDefault","img","dataset"],"version":3,"file":"index.0dba3d51.js.map"}