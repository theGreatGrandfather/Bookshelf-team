{"mappings":"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","sources":["src/index.js","src/js/markup-books.js","src/js/axios-get.js","src/js/renderCategories.js","src/js/createCategoryMarcup.js","src/js/get-top-books.js","src/js/modal.js","src/js/animation.js","src/js/scroll-up.js","src/js/seeMore.js"],"sourcesContent":["import './js/header-menu';\nimport './js/markup-books';\nimport './js/axios-get';\nimport './js/get-top-books';\nimport './js/modal';\nimport './js/animation';\nimport './js/auth-for-all-pages';\nimport './js/footer.js';\nimport './js/scroll-up.js';\nimport './js/onFondsBtnClick.js';\nimport './js/renderCategories.js';\nimport './js/toggleTheme.js';\nimport './js/createFoundsMarcup';\nimport './js/createCategoryMarcup.js';\nimport './js/seeMore';\nimport './js/scroll-funds';\nimport './js/loader';","export const makeMarkupForBooks = (booksArray) => {\n  const markup = booksArray.map(\n    ({ book_image, title, author, _id, list_name, description, buy_links }) => `\n      <li class=\"book-item\" class=\"_list  \"\n        data-title=\"${title}\"\n        data-image=\"${book_image}\"\n        data-author=\"${author}\"\n        data-listName=\"${list_name}\"\n        data-description=\"${description}\"\n        data-linkNameAmazon=\"${buy_links[0].name}\"\n        data-linkUrlAmazon=\"${buy_links[0].url}\"\n        data-linkNameApple=\"${buy_links[1].name}\"\n        data-linkUrlApple=\"${buy_links[1].url}\"\n        data-linkNameBarnes=\"${buy_links[2].name}\"\n        data-linkUrlBarnes=\"${buy_links[2].url}\"\n      >\n        <a href=\"#\" class=\"_link\" class=\"book-item\" data-id=\"${_id}\">\n          <div class=\"thumb\">\n            <img class=\"lazyload\" src=\"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png\" data-src=\"${book_image ? book_image:'https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png'}\" alt=\"${title}\" loading=\"lazy\"/>\n            <div class=\"overlay\">\n              <p class=\"overlay-text\">quick view </p>\n            </div>\n          </div>\n          <h4 class=\"book-title\">${title}</h4>\n          <p class=\"book-author\">${author}</p>\n        </a>\n      </li>\n    `\n  ).join('');\n  return markup;\n};\n\n\n\n","import axios from \"axios\";\nimport { Notify } from \"notiflix\";\n\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\nconst categoryList = '/books/category-list';\nconst topBooks = '/books/top-books';\nconst categoryBooks = '/books/category'\nconst book = '/books/';  \n        \nconst getCategoryList = async () => {\n  try {\n    const result = await axios.get(`${BASE_URL}${categoryList}`);\n    return result.data\n  } catch (error) {\n    Notify.failure(`Error: ${errorMessage}`);\n  }\n};\n\nconst getTopBooks = async () =>{\n  try {\n    const result = await axios.get(`${BASE_URL}${topBooks}`);\n    return result.data\n  } catch (error) {\n    Notify.failure(`Error: ${errorMessage}`);\n  }\n  throw new Error(error);\n};\n\nconst getBooksByCategory = async (category) => {\n  try {\n    const result = await axios.get((`${BASE_URL}${categoryBooks}`), {\n      params: {category},\n    } );\n    return result.data\n  } catch (error) {\n    Notify.failure(`Error: ${errorMessage}`);\n  }\n};\n\nconst getBookById = async (id) => {\n  try {\n    const result = await axios.get(`${BASE_URL}${book}${id}`);\n    return result.data\n  } catch (error) {\n    Notify.failure(`Error: ${errorMessage}`);\n  }\n};\n\n\nexport { getCategoryList, getTopBooks, getBooksByCategory, getBookById }\n\n//для getBooksByCategory, getBookById потрібно передавати параметри \n// getBooksByCategory(category) getBookById(id)","import { getCategoryList } from \"./axios-get\";\nimport { Notify } from \"notiflix\";\nexport const categoriesList = document.querySelector('.categories__list');\n\nconst renderCategories = async () => {\n    const categories = await getCategoryList();\n    const markup = categories.map(\n        ({ list_name }) => `\n                <li class='categories__item _list'>\n                    <a data-categories__item data-listName='${list_name}' rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${list_name}</a>\n                </li>`\n    ).sort().join('');\n    \n    return markup;\n};\n\nrenderCategories()\n    .then((resp) => {\n        categoriesList.insertAdjacentHTML('beforeend', resp);\n                \n        \n    })\n    .catch((err) => {\n        Notify.failure(`Error: ${errorMessage}`);\n    })\n\n","import { categoriesList } from './renderCategories';\nimport { getBooksByCategory } from \"./axios-get\";\nimport { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { loaderOn, loaderOff } from './loader';\n\nexport const categoryTitle = document.querySelector('.title_best-sellers'); \n\nexport const createCategoryMarcup = async (category) => {\n    return await getBooksByCategory(category);\n};\n\nconst onCategoryClick = (e) => {\n    if (e.target.hasAttribute('data-categories__item')) {\n        e.preventDefault();\n        loaderOn();\n        const list = document.querySelector('.categories__list');\n        const category = list.getElementsByClassName('categories__link');\n\n        const arr = Array.from(category);\n        for (let index = 0; index < arr.length; index++) {\n            const element = arr[index];\n            element.classList.remove('active__link');\n        }\n        e.target.classList.add('active__link');\n\n        const titleTExt = e.target.dataset.listname.split(' ');\n        titleTExt.pop();\n        const accentText = e.target.dataset.listname.split(' ')[e.target.dataset.listname.split(' ').length - 1];\n        createCategoryMarcup(e.target.dataset.listname)\n            .then((resp) => {\n                \n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                if ( document.documentElement.scrollWidth >= 1440) {\n                    return;\n                }\n                document.querySelector('#best-sellers-container').scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n\n                loaderOff();\n            })\n    }\n};\n\ncategoriesList.addEventListener('click', onCategoryClick);","import { getTopBooks } from './axios-get';\nimport { makeMarkupForBooks } from './markup-books';\nimport { categoryTitle } from './createCategoryMarcup';\nimport { loaderOn, loaderOff } from './loader';\nimport { Notify } from \"notiflix\";\n\nexport const mainBookList = document.querySelector('.best_list');\nlet numBooksPerRow = 5;\nlet savedMarkup = null;\n\nconst debounce = (func, delay) => {\n  let timeoutId;\n  return (...args) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func(...args), delay);\n  };\n};\n\nconst shouldRenderMarkup = () => {\n  return !categoryTitle.classList.contains('no-change');\n};\n\nconst renderStartMarkup = async () => {\n  if (!shouldRenderMarkup()) return;\n\n  try {\n    loaderOn();\n    const dataMarkup = await getTopBooks();\n    if (dataMarkup.length === 0) return;\n\n    const firstIndexBooks = dataMarkup.map(({ books, list_name }) => {\n      const booksSlice = books.slice(0, numBooksPerRow);\n      return `<li class='best-item _list _anim-items'>\n                <h3 class='min-title'>${list_name}</h3>\n                <ul class='books-list'>\n                    ${makeMarkupForBooks(booksSlice)}\n                </ul>\n                <button class='see_more' data-name=\"${list_name}\">See More</button>\n              </li>`;\n    });\n\n    mainBookList.innerHTML = firstIndexBooks.join('');\n  } catch (error) {\n    Notify.failure(`Error: ${errorMessage}`);\n  } finally {\n    loaderOff();\n  }\n};\n\nconst handleResize = () => {\n  numBooksPerRow = determineNumBooksPerRow();\n  renderStartMarkup();\n};\n\nconst debouncedHandleResize = debounce(handleResize, 300);\nwindow.addEventListener('resize', debouncedHandleResize);\n\nfunction determineNumBooksPerRow() {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return 1;\n  } else if (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n    return 3;\n  } else {\n    return 5;\n  }\n}\n\nconst restoreMarkup = () => {\n  if (!shouldRenderMarkup() && savedMarkup) {\n    mainBookList.innerHTML = savedMarkup;\n  }\n};\n\nwindow.addEventListener('resize', restoreMarkup);\n\nwindow.addEventListener('load', () => {\n  handleResize();\n});\n","import { delBook, pullBookData } from './auth-send-data';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebase';\nimport { getAuth } from 'firebase/auth';\nimport { getDocs, collection, getFirestore } from 'firebase/firestore';\n\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\nconst el = {\n  body: document.querySelector('body'),\n  modal: document.getElementById('modal'),\n  modalInner: document.getElementById('modal-inner'),\n  modalTitle: document.getElementById('modal-title'),\n  modalAuthor: document.getElementById('modal-author'),\n  modalDescr: document.getElementById('modal-description'),\n  modalImg: document.getElementById('modal-image'),\n  modalClose: document.getElementById('modal-close-btn'),\n  amazonLink: document.getElementById('amazon-link'),\n  appleLink: document.getElementById('apple-link'),\n  barnesLink: document.getElementById('barnes-link'),\n  addToList: document.getElementById('modal-add-to-list'),\n  modalGreetings: document.getElementById('modal-greetings-text'),\n  books: document.getElementById('best-sellers-container'),\n};\n\nconst BUTTON_ADD_TEXT = 'Add to shopping list';\nconst BUTTON_REMOVE_TEXT = 'Remove from the shopping list';\nlet bookInfo = {};\nlet isBookAdded = false;\n\nconst onBookClick = e => {\n  e.preventDefault();\n\n  onAuthStateChanged(auth, async (user) => {\n    if (user) {\n      const email = user.email;\n      const querySnapshot = await getDocs(collection(db, email));\n      const arr = [];\n      querySnapshot.forEach(bookInDataBase => arr.push(bookInDataBase.data().id));\n\n       if (arr.some(el => el === bookInfo.id)) {\n          isBookAdded = true;\n\n          el.addToList.textContent = BUTTON_REMOVE_TEXT;\n          el.modalGreetings.classList.remove('modal-greetings-text-js');\n        } else {\n          isBookAdded = false;\n\n          el.addToList.textContent = BUTTON_ADD_TEXT;\n          el.modalGreetings.classList.add('modal-greetings-text-js');\n        }\n    \n    } else {\n      el.addToList.disabled = true;\n      el.addToList.style.cursor = 'not-allowed';\n    }\n  });\n\n  if (!e.target.closest('.book-item')) return;\n  el.modalClose.addEventListener('click', onCloseModal);\n  document.addEventListener('keydown', onCloseModalESC);\n  el.addToList.addEventListener('click', toggleToList);\n  el.modal.addEventListener('click', onBackdrop);\n  const bookItem = e.target.closest('.book-item');\n\n  // get book data from attrs\n  bookInfo = {\n    id: bookItem.querySelector('._link').dataset.id,\n    title: bookItem.dataset.title,\n    img: bookItem.dataset.image,\n    author: bookItem.dataset.author,\n    description: bookItem.dataset.description,\n    amazonLink: bookItem.dataset.linkurlamazon,\n    appleLink: bookItem.dataset.linkurlapple,\n    barnesLink: bookItem.dataset.linkurlbarnes,\n    listname: bookItem.dataset.listname,\n  };\n\n  // Insert book data to modal and save current BookId\n  el.modalTitle.textContent = bookInfo.title;\n  el.modalAuthor.textContent = bookInfo.author;\n  el.modalDescr.textContent = bookInfo.description;\n  el.modalImg.src = bookInfo.img;\n  el.amazonLink.href = bookInfo.amazonLink;\n  el.appleLink.href = bookInfo.appleLink;\n  el.barnesLink.href = bookInfo.barnesLink;\n\n  // currentBookId = bookInfo.id;\n\n  // check if this book has been already added to storage\n  // isBookAdded = getItem(bookInfo.id);\n  if (!isBookAdded) {\n    el.addToList.textContent = BUTTON_ADD_TEXT;\n    el.modalGreetings.classList.add('modal-greetings-text-js');\n  } else {\n    el.addToList.textContent = BUTTON_REMOVE_TEXT;\n    el.modalGreetings.classList.remove('modal-greetings-text-js');\n  }\n\n  // open Modal\n  el.body.classList.add('no-scroll-js');\n  el.modal.classList.toggle('modal-js');\n};\n\nconst onCloseModal = (e) => {\n  el.modal.classList.add('modal-js');\n  el.body.classList.remove('no-scroll-js');\n  el.modalClose.removeEventListener('click', onCloseModal);\n  document.removeEventListener('keydown', onCloseModalESC);\n  el.addToList.removeEventListener('click', toggleToList);\n  el.modal.removeEventListener('click', onBackdrop);\n};\n\n  \n\nconst onBackdrop = (e) => {\n    if (e.target === e.currentTarget) {\n      onCloseModal();\n      el.modalClose.removeEventListener('click', onCloseModal);\n      document.removeEventListener('keydown', onCloseModalESC);\n      el.addToList.removeEventListener('click', toggleToList);\n      el.modal.removeEventListener('click', onBackdrop);\n    }\n};\n\nconst onCloseModalESC = e => {\n  if (e.key === 'Escape') {\n    onCloseModal();\n    el.modalClose.removeEventListener('click', onCloseModal);\n    document.removeEventListener('keydown', onCloseModalESC);\n    el.addToList.removeEventListener('click', toggleToList);\n    el.modal.removeEventListener('click', onBackdrop);\n  }\n};\n\nconst toggleToList = () => {\n  if (!isBookAdded) {\n    // setItem(bookInfo);\n    pullBookData(bookInfo);\n    el.addToList.textContent = BUTTON_REMOVE_TEXT;\n    el.modalGreetings.classList.remove('modal-greetings-text-js');\n    isBookAdded = true;\n  } else {\n    // removeItem(currentBookId);\n    delBook(bookInfo.id)\n    el.addToList.textContent = BUTTON_ADD_TEXT;\n    el.modalGreetings.classList.add('modal-greetings-text-js');\n    isBookAdded = false;\n  }\n};\n\nel.books.addEventListener('click', onBookClick);\n\n// el.modalInner.addEventListener('click', e => e.stopPropagation());\n\n// el.books.removeEventListener","\nconst animItems = document.querySelectorAll('._anim-items')\n\n\n\nif (animItems.length > 0) {\n\n    window.addEventListener('scroll', animOnScroll);\n    function animOnScroll() {\n        for (let index = 0; index < animItems.length; index++){\n            const animItem = animItems[index];\n            const animItemHeight = animItem.offsetHeight;\n            const animItemOffset = offset(animItem).top;\n            const animStart = 4;\n\n\n\n            let animItemPoint = window.innerHeight - animItemHeight / animStart;\n\n            if (animItemHeight > window.innerHeight) {\n                animItemPoint = window.innerHeight - window.innerHeight / animStart;\n            }\n\n            if ((scrollY > animItemOffset - animItemPoint) & scrollY < (animItemOffset + animItemHeight)) {\n                animItem.classList.add('_active');\n            } else {\n                 animItem.classList.remove('_active');\n            }\n        }\n    }\n    function offset(el) {\n    const rect = el.getBoundingClientRect(),\n        scrollLeft = window.scrollX || document.documentElement.scrollLeft,\n        scrollTop = window.scrollY || document.documentElement.scrollTop;\n    return {\n        top: rect.top + scrollTop,\n        left: rect.left + scrollLeft\n    }\n    }\n\n    setTimeout(() => {\n        animOnScroll();\n    },300) \n}\n\n","//scroll-up\nconst btnGoTop = document.querySelector(\".go-top\")\nbtnGoTop.hidden = true;\n\nexport const goTop = () => {\n    if (window.scrollY > 0) {\n        window.scrollBy(0, -82);\n        setTimeout(goTop, 0);\n    }\n}\n\nconst onScroll = () => {\n    const offset = window.scrollY;\n    const coords = document.documentElement.clientHeight;\n    if (offset*5 >= coords) {\n        btnGoTop.hidden = false\n    } else {\n        btnGoTop.hidden = true;\n    }\n}\n\nwindow.addEventListener('scroll', onScroll);\nbtnGoTop.addEventListener('click', goTop);","import { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { createCategoryMarcup, categoryTitle } from './createCategoryMarcup';\nimport { loaderOn, loaderOff } from './loader';\n\nconst onSeeMoreClick = (e) => {\n    if (e.target.classList.contains('see_more')) {\n        e.preventDefault();\n        loaderOn();\n        const list = document.querySelector('.categories__list');\n        const category = list.getElementsByClassName('categories__link');\n\n        const arr = Array.from(category);\n        for (let index = 0; index < arr.length; index++) {\n            const element = arr[index];\n            element.classList.remove('active__link');\n\n            if (e.target.dataset.name === element.innerText) {\n                element.classList.add('active__link');\n\n            }\n        }\n\n        const titleTExt =  e.target.dataset.name.split(' ');\n        titleTExt.pop();\n        const accentText =  e.target.dataset.name.split(' ')[ e.target.dataset.name.split(' ').length - 1];\n        createCategoryMarcup( e.target.dataset.name)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                loaderOff();\n                // if ( document.documentElement.scrollWidth >= 1440) {\n                //     return;\n                // }\n                document.querySelector('#best-sellers-container').scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n            })\n    }\n};\n\nmainBookList.addEventListener('click', onSeeMoreClick);"],"names":["parcelRequire","$0748698d39923467$export$c2ff2758ce23ccbb","booksArray","map","book_image","title","author","_id","list_name","description","buy_links","name","url","join","$2shzp","$9d12fd87e78c22ef$var$BASE_URL","$9d12fd87e78c22ef$export$97875efe23d1d9ba","async","default","get","data","error","$7Y9D8","Notify","failure","errorMessage","$9d12fd87e78c22ef$export$3a1253a897925caa","error1","Error","$9d12fd87e78c22ef$export$6777c992b9bef59e","category","params","$0062a3ce137c21ac$export$94bc654d13d3e8cb","document","querySelector","sort","$0062a3ce137c21ac$var$renderCategories","then","resp","insertAdjacentHTML","catch","err","$2c4cada00c5298b3$export$fc6e89e9bf9f348b","$2c4cada00c5298b3$export$8d0d2589e3c58f4b","addEventListener","e","target","hasAttribute","preventDefault","$gjiCh","loaderOn","getElementsByClassName","arr","Array","from","index","length","classList","remove","add","titleTExt","dataset","listname","split","pop","accentText","innerHTML","$90e6a17a15f2fb61$export$354f2e393cddbae9","documentElement","scrollWidth","scrollIntoView","behavior","block","loaderOff","$90e6a17a15f2fb61$var$numBooksPerRow","$90e6a17a15f2fb61$var$shouldRenderMarkup","contains","$90e6a17a15f2fb61$var$renderStartMarkup","dataMarkup","firstIndexBooks","books","booksSlice","slice","$90e6a17a15f2fb61$var$handleResize","window","matchMedia","matches","$90e6a17a15f2fb61$var$debouncedHandleResize","func","delay","timeoutId","args","clearTimeout","setTimeout","$90e6a17a15f2fb61$var$debounce","$a0qxx","$8a7e756c566dd1ea$var$auth","$eyjy7","getAuth","$2ix2C","app","$8a7e756c566dd1ea$var$db","$ftYLF","getFirestore","$8a7e756c566dd1ea$var$el","body","modal","getElementById","modalInner","modalTitle","modalAuthor","modalDescr","modalImg","modalClose","amazonLink","appleLink","barnesLink","addToList","modalGreetings","$8a7e756c566dd1ea$var$BUTTON_ADD_TEXT","$8a7e756c566dd1ea$var$BUTTON_REMOVE_TEXT","$8a7e756c566dd1ea$var$bookInfo","$8a7e756c566dd1ea$var$isBookAdded","$8a7e756c566dd1ea$var$onCloseModal","removeEventListener","$8a7e756c566dd1ea$var$onCloseModalESC","$8a7e756c566dd1ea$var$toggleToList","$8a7e756c566dd1ea$var$onBackdrop","currentTarget","key","delBook","id","textContent","pullBookData","onAuthStateChanged","user","email","querySnapshot","getDocs","collection","forEach","bookInDataBase","push","some","el1","disabled","style","cursor","closest","bookItem","img","image","linkurlamazon","linkurlapple","linkurlbarnes","src","href","toggle","$102a1c8203678332$var$animItems","querySelectorAll","$102a1c8203678332$var$animOnScroll","animItem","animItemHeight","offsetHeight","animItemOffset","$102a1c8203678332$var$offset","top","animStart","animItemPoint","innerHeight","scrollY","el","rect","getBoundingClientRect","scrollLeft","scrollX","scrollTop","left","$52650fc44c8b8200$var$btnGoTop","hidden","$52650fc44c8b8200$export$f3c717e3626b749b","scrollBy","offset","coords","clientHeight","element","innerText"],"version":3,"file":"index.54c2e7fc.js.map"}