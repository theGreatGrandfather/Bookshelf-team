{"mappings":"oeAIAA,EAAA,SCJO,MAAMC,EAAsBC,GAClBA,EAAWC,KACxB,EAACC,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,IAAEA,EAAGC,UAAEA,EAASC,YAAEA,EAAWC,UAAEA,KAAgB,oEAEzDL,2BACAD,4BACCE,8BACEE,iCACGC,oCACGC,EAAU,GAAGC,sCACdD,EAAU,GAAGE,qCACbF,EAAU,GAAGC,qCACdD,EAAU,GAAGE,sCACXF,EAAU,GAAGC,sCACdD,EAAU,GAAGE,+EAEoBL,kLAE8EH,GAAwB,oGAAoGC,yLAKtOA,4CACAC,2CAI/BO,KAAK,IC5BT,IAAAC,EAAAd,EAAA,SAGA,MAAMe,EAAW,sCAMXC,EAAkBC,UACtB,IAEE,aADqBH,EAAAI,QAAMC,IAAI,GAAGJ,0BACpBK,I,CACd,MAAOC,GACPC,QAAQC,IAAIF,E,GAIVG,EAAcP,UAClB,IAEE,aADqBH,EAAAI,QAAMC,IAAI,GAAGJ,sBACpBK,I,CACd,MAAOK,GACPH,QAAQC,IAAIE,E,CAEd,MAAM,IAAIC,MAAML,MAAM,EAGlBM,EAAqBV,MAAOW,IAChC,IAIE,aAHqBd,EAAAI,QAAMC,IAAK,GAAGJ,mBAA6B,CAC9Dc,OAAQ,C,SAACD,MAEGR,I,CACd,MAAOC,GACPC,QAAQC,IAAIF,E,GCjCHS,EAAiBC,SAASC,cAAc,qBAE5Bf,iBACID,KACCb,KACtB,EAACK,UAAEA,KAAgB,sHAEmCA,kFAA0FA,iCAElJyB,OAAOpB,KAAK,IAKlBqB,GACKC,MAAMC,IACHN,EAAeO,mBAAmB,YAAaD,EAAK,IAIvDE,OAAOC,IAAD,I,WChBJ,MAAMC,EAAgBT,SAASC,cAAc,uBAEvCS,EAAuBxB,MAAOW,SAC1BD,EAAmBC,GAwCpCE,EAAeY,iBAAiB,SArCPC,IACrB,GAAIA,EAAEC,OAAOC,aAAa,yBAA0B,CAChDF,EAAEG,iBAEF,MACMlB,EADOG,SAASC,cAAc,qBACde,uBAAuB,oBAEvCC,EAAMC,MAAMC,KAAKtB,GACvB,IAAK,IAAIuB,EAAQ,EAAGA,EAAQH,EAAII,OAAQD,IAAS,CAC7BH,EAAIG,GACZE,UAAUC,OAAO,e,CAE7BX,EAAEC,OAAOS,UAAUE,IAAI,gBAEvB,MAAMC,EAAYb,EAAEC,OAAOa,QAAQC,SAASC,MAAM,KAClDH,EAAUI,MACV,MAAMC,EAAalB,EAAEC,OAAOa,QAAQC,SAASC,MAAM,KAAKhB,EAAEC,OAAOa,QAAQC,SAASC,MAAM,KAAKP,OAAS,GACtGX,EAAqBE,EAAEC,OAAOa,QAAQC,UACjCvB,MAAMC,IAEHI,EAAca,UAAUE,IAAI,aAC5Bf,EAAcsB,UAAY,GAAGN,EAAU3C,KAAK,uDACjBgD,WAC3BE,EAAaD,UAAY7D,EAAmBmC,GACvCL,SAASiC,gBAAgBC,aAAe,MAG7ClC,SAASC,cAAc,2BAA2BkC,eAAe,CAC7DC,SAAU,SACVC,MAAO,SACT,G,gBCrCX,MAAML,EAAehC,SAASC,cAAc,cACnD,IAAIqC,EAAiB,EAGrB,MAQMC,EAAqB,KACjB9B,EAAca,UAAUkB,SAAS,aAGrCC,EAAoBvD,UACxB,GAAKqD,IAEL,IAEE,MAAMG,QAAmBjD,IACzB,GAA0B,IAAtBiD,EAAWrB,OAAc,OAE7B,MAAMsB,EAAkBD,EAAWtE,KAAI,EAACwE,MAAEA,EAAKnE,UAAEA,MAC/C,MAAMoE,EAAaD,EAAME,MAAM,EAAGR,GAClC,MAAO,uEAC2B7D,wEAElBP,EAAmB2E,kFAEapE,2CAClC,IAGhBuD,EAAaD,UAAYY,EAAgB7D,KAAK,G,CAC9C,MAAOQ,GACPC,QAAQD,MAAMA,E,GAMZyD,EAAe,KACnBT,EAQIU,OAAOC,WAAW,sBAAsBC,QACnC,EACEF,OAAOC,WAAW,8CAA8CC,QAClE,EAEA,EAZTT,GAAmB,EAGfU,EA5CW,EAACC,EAAMC,KACtB,IAAIC,EACJ,MAAO,IAAIC,KACTC,aAAaF,GACbA,EAAYG,YAAW,IAAML,KAAQG,IAAOF,EAAM,CACnD,EAuC2BK,CAASX,EAAc,KACrDC,OAAOrC,iBAAiB,SAAUwC,GAkBlCH,OAAOrC,iBAAiB,UANF,KACf4B,IAAD,CACkC,IAMxCS,OAAOrC,iBAAiB,QAAQ,KAC9BoC,GAAc,IC3EhB,IAAAY,EAAA1F,EAAA,S,sDAMA,MAAM2F,GAAO,EAAAC,EAAAC,SAAQC,EAAAC,KACfC,GAAK,EAAAC,EAAAC,cAAaJ,EAAAC,KAElBI,EAAK,CACTC,KAAMrE,SAASC,cAAc,QAC7BqE,MAAOtE,SAASuE,eAAe,SAC/BC,WAAYxE,SAASuE,eAAe,eACpCE,WAAYzE,SAASuE,eAAe,eACpCG,YAAa1E,SAASuE,eAAe,gBACrCI,WAAY3E,SAASuE,eAAe,qBACpCK,SAAU5E,SAASuE,eAAe,eAClCM,WAAY7E,SAASuE,eAAe,mBACpCO,WAAY9E,SAASuE,eAAe,eACpCQ,UAAW/E,SAASuE,eAAe,cACnCS,WAAYhF,SAASuE,eAAe,eACpCU,UAAWjF,SAASuE,eAAe,qBACnCW,eAAgBlF,SAASuE,eAAe,wBACxC3B,MAAO5C,SAASuE,eAAe,2BAG3BY,EAAkB,uBAClBC,EAAqB,gCAC3B,IAAIC,EAAW,GACXC,GAAc,EAElB,MA0EMC,EAAgB3E,IACpBwD,EAAGE,MAAMhD,UAAUE,IAAI,YACvB4C,EAAGC,KAAK/C,UAAUC,OAAO,gBACzB6C,EAAGS,WAAWW,oBAAoB,QAASD,GAC3CvF,SAASwF,oBAAoB,UAAWC,GACxCrB,EAAGa,UAAUO,oBAAoB,QAASE,GAC1CtB,EAAGE,MAAMkB,oBAAoB,QAASG,EAAW,EAK7CA,EAAc/E,IACZA,EAAEC,SAAWD,EAAEgF,gBACjBL,IACAnB,EAAGS,WAAWW,oBAAoB,QAASD,GAC3CvF,SAASwF,oBAAoB,UAAWC,GACxCrB,EAAGa,UAAUO,oBAAoB,QAASE,GAC1CtB,EAAGE,MAAMkB,oBAAoB,QAASG,G,EAItCF,EAAkB7E,IACR,WAAVA,EAAEiF,MACJN,IACAnB,EAAGS,WAAWW,oBAAoB,QAASD,GAC3CvF,SAASwF,oBAAoB,UAAWC,GACxCrB,EAAGa,UAAUO,oBAAoB,QAASE,GAC1CtB,EAAGE,MAAMkB,oBAAoB,QAASG,G,EAIpCD,EAAe,KACdJ,IAQH,EAAA3B,EAAAmC,SAAQT,EAASU,IACjB3B,EAAGa,UAAUe,YAAcb,EAC3Bf,EAAGc,eAAe5D,UAAUE,IAAI,2BAChC8D,GAAc,KATd,EAAA3B,EAAAsC,cAAaZ,GACbjB,EAAGa,UAAUe,YAAcZ,EAC3BhB,EAAGc,eAAe5D,UAAUC,OAAO,2BACnC+D,GAAc,E,EAUlBlB,EAAGxB,MAAMjC,iBAAiB,SAzHNC,IA4BlB,GA3BAA,EAAEG,kBAEF,EAAA8C,EAAAqC,oBAAmBtC,GAAM1E,MAAOiH,IAC9B,GAAIA,EAAM,CACR,MAAMC,EAAQD,EAAKC,MACbC,QAAsB,EAAAnC,EAAAoC,UAAQ,EAAApC,EAAAqC,YAAWtC,EAAImC,IAC7CnF,EAAM,GACZoF,EAAcG,SAAQC,GAAkBxF,EAAIyF,KAAKD,EAAepH,OAAO0G,MAElE9E,EAAI0F,MAAKC,GAAMA,IAAOvB,EAASU,MAChCT,GAAc,EAEdlB,EAAGa,UAAUe,YAAcZ,EAC3BhB,EAAGc,eAAe5D,UAAUC,OAAO,6BAEnC+D,GAAc,EAEdlB,EAAGa,UAAUe,YAAcb,EAC3Bf,EAAGc,eAAe5D,UAAUE,IAAI,2B,MAIpC4C,EAAGa,UAAU4B,UAAW,EACxBzC,EAAGa,UAAU6B,MAAMC,OAAS,a,KAI3BnG,EAAEC,OAAOmG,QAAQ,cAAe,OACrC5C,EAAGS,WAAWlE,iBAAiB,QAAS4E,GACxCvF,SAASW,iBAAiB,UAAW8E,GACrCrB,EAAGa,UAAUtE,iBAAiB,QAAS+E,GACvCtB,EAAGE,MAAM3D,iBAAiB,QAASgF,GACnC,MAAMsB,EAAWrG,EAAEC,OAAOmG,QAAQ,cAGlC3B,EAAW,CACTU,GAAIkB,EAAShH,cAAc,UAAUyB,QAAQqE,GAC7CzH,MAAO2I,EAASvF,QAAQpD,MACxB4I,IAAKD,EAASvF,QAAQyF,MACtB5I,OAAQ0I,EAASvF,QAAQnD,OACzBG,YAAauI,EAASvF,QAAQhD,YAC9BoG,WAAYmC,EAASvF,QAAQ0F,cAC7BrC,UAAWkC,EAASvF,QAAQ2F,aAC5BrC,WAAYiC,EAASvF,QAAQ4F,cAC7B3F,SAAUsF,EAASvF,QAAQC,UAI7ByC,EAAGK,WAAWuB,YAAcX,EAAS/G,MACrC8F,EAAGM,YAAYsB,YAAcX,EAAS9G,OACtC6F,EAAGO,WAAWqB,YAAcX,EAAS3G,YACrC0F,EAAGQ,SAAS2C,IAAMlC,EAAS6B,IAC3B9C,EAAGU,WAAW0C,KAAOnC,EAASP,WAC9BV,EAAGW,UAAUyC,KAAOnC,EAASN,UAC7BX,EAAGY,WAAWwC,KAAOnC,EAASL,WAE9ByC,cAAgBpC,EAASU,GAIpBT,GAIHlB,EAAGa,UAAUe,YAAcZ,EAC3BhB,EAAGc,eAAe5D,UAAUC,OAAO,6BAJnC6C,EAAGa,UAAUe,YAAcb,EAC3Bf,EAAGc,eAAe5D,UAAUE,IAAI,4BAOlC4C,EAAGC,KAAK/C,UAAUE,IAAI,gBACtB4C,EAAGE,MAAMhD,UAAUoG,OAAO,WAAW,I,sBCrGvC,MAAMC,EAAW3H,SAASC,cAAc,WACxC0H,EAASC,QAAS,EAEX,MAAMC,EAAQ,KACb7E,OAAO8E,QAAU,IACjB9E,OAAO+E,SAAS,GAAG,IACnBtE,WAAWoE,EAAO,G,EAc1B7E,OAAOrC,iBAAiB,UAVP,KACb,MAAMqH,EAAShF,OAAO8E,QAChBG,EAASjI,SAASiC,gBAAgBiG,aAEpCP,EAASC,SADF,EAAPI,GAAYC,EAGU,IAK9BN,EAAShH,iBAAiB,QAASkH,G,iCCuBnC7F,EAAarB,iBAAiB,SAvCNC,IACpB,GAAIA,EAAEC,OAAOS,UAAUkB,SAAS,YAAa,CACzC5B,EAAEG,iBAEF,MACMlB,EADOG,SAASC,cAAc,qBACde,uBAAuB,oBAEvCC,EAAMC,MAAMC,KAAKtB,GACvB,IAAK,IAAIuB,EAAQ,EAAGA,EAAQH,EAAII,OAAQD,IAAS,CAC7C,MAAM+G,EAAUlH,EAAIG,GACpB+G,EAAQ7G,UAAUC,OAAO,gBAErBX,EAAEC,OAAOa,QAAQ9C,OAASuJ,EAAQC,WAClCD,EAAQ7G,UAAUE,IAAI,e,CAK9B,MAAMC,EAAab,EAAEC,OAAOa,QAAQ9C,KAAKgD,MAAM,KAC/CH,EAAUI,MACV,MAAMC,EAAclB,EAAEC,OAAOa,QAAQ9C,KAAKgD,MAAM,KAAMhB,EAAEC,OAAOa,QAAQ9C,KAAKgD,MAAM,KAAKP,OAAS,GAChGX,EAAsBE,EAAEC,OAAOa,QAAQ9C,MAClCwB,MAAMC,IACHI,EAAca,UAAUE,IAAI,aAC5Bf,EAAcsB,UAAY,GAAGN,EAAU3C,KAAK,uDACjBgD,WAC3BE,EAAaD,UAAY7D,EAAmBmC,GAK5CL,SAASC,cAAc,2BAA2BkC,eAAe,CAC7DC,SAAU,SACVC,MAAO,SACT,G,KCxClB,IAAIgG,EAAW,EAIGrI,SAASC,cAAc,qBAAzC,MACMqI,EAAOtI,SAASC,cAAc,0BAC9BsI,EAAevI,SAASC,cAAc,yBACtCuI,EAAexI,SAASyI,iBAAiB,0BAC/C,IAAIC,EAAaF,EAAanH,OAI9BmH,EAAahC,SAASmC,IACpBA,EAAK7B,MAAM8B,UAAY,MAAuB,IAGhDL,EAAa5H,iBAAiB,SAAS,MA0BvC,WACE,MAAMkI,EAAc7F,OAAO8F,WAE3B,OAAID,GAAe,KACVH,GAAcK,KAAKC,IAAIX,GAAYY,KAAmC,GACpEJ,GAAe,IACjBH,GAAcK,KAAKC,IAAIX,GAAYY,KAAmC,GAEtEP,GAAcK,KAAKC,IAAIX,GAAYY,KAAmC,E,EAjC3DC,IAfD,IAkBjBb,GAViBc,GAYjBd,EAAW,EAGbC,EAAKxB,MAAMsC,WAAa,0BACxBC,IAEA5F,YAAW,KACT6E,EAAKxB,MAAMsC,WAAa,EAAE,GACzB,IAAI,IAGTpG,OAAOrC,iBAAiB,UAAU,KAChC+H,EAAaF,EAAanH,OAC1BgI,GAAa,IAGf,MAAMA,EAAc,KAClBf,EAAKxB,MAAMwC,UAAY,cAAcjB,MAAa","sources":["src/index.js","src/js/markup-books.js","src/js/axios-get.js","src/js/renderCategories.js","src/js/createCategoryMarcup.js","src/js/get-top-books.js","src/js/modal.js","src/js/scroll-up.js","src/js/seeMore.js","src/js/scroll-funds.js"],"sourcesContent":["// add your import from js file here 1\n\n// add your import from js file here 2\n\nimport './js/header-menu';\n\nimport './js/markup-books';\n\nimport './js/axios-get';\n\nimport './js/get-top-books';\n\nimport './js/modal';\n// add your import from js file here\n\n// add your import from js file here\n\n// import './js/shoplist';\n\n// add your import from js file here\n\nimport './js/auth-for-all-pages';\n\nimport './js/footer.js';\n\nimport './js/scroll-up.js';\n\n// import './js/loader.js';\n\nimport './js/onFondsBtnClick.js';\n\nimport './js/renderCategories.js';\n\nimport './js/toggleTheme.js';\n\nimport './js/createFoundsMarcup';\n\nimport './js/createCategoryMarcup.js';\nimport './js/seeMore';\n \nimport './js/scroll-funds'","export const makeMarkupForBooks = (booksArray) => {\n  const markup = booksArray.map(\n    ({ book_image, title, author, _id, list_name, description, buy_links }) => `\n      <li class=\"book-item\" class=\"_list\"\n        data-title=\"${title}\"\n        data-image=\"${book_image}\"\n        data-author=\"${author}\"\n        data-listName=\"${list_name}\"\n        data-description=\"${description}\"\n        data-linkNameAmazon=\"${buy_links[0].name}\"\n        data-linkUrlAmazon=\"${buy_links[0].url}\"\n        data-linkNameApple=\"${buy_links[1].name}\"\n        data-linkUrlApple=\"${buy_links[1].url}\"\n        data-linkNameBarnes=\"${buy_links[2].name}\"\n        data-linkUrlBarnes=\"${buy_links[2].url}\"\n      >\n        <a href=\"#\" class=\"_link\" class=\"book-item\" data-id=\"${_id}\">\n          <div class=\"thumb\">\n            <img class=\"lazyload\" src=\"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png\" data-src=\"${book_image ? book_image:'https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png'}\" alt=\"${title}\" loading=\"lazy\"/>\n            <div class=\"overlay\">\n              <p class=\"overlay-text\">quick view </p>\n            </div>\n          </div>\n          <h4 class=\"book-title\">${title}</h4>\n          <p class=\"book-author\">${author}</p>\n        </a>\n      </li>\n    `\n  ).join('');\n  return markup;\n};\n\n\n\n","import axios from \"axios\";\n\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\nconst categoryList = '/books/category-list';\nconst topBooks = '/books/top-books';\nconst categoryBooks = '/books/category'\nconst book = '/books/';  \n        \nconst getCategoryList = async () => {\n  try {\n    const result = await axios.get(`${BASE_URL}${categoryList}`);\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n};\n\nconst getTopBooks = async () =>{\n  try {\n    const result = await axios.get(`${BASE_URL}${topBooks}`);\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n  throw new Error(error);\n};\n\nconst getBooksByCategory = async (category) => {\n  try {\n    const result = await axios.get((`${BASE_URL}${categoryBooks}`), {\n      params: {category},\n    } );\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n};\n\nconst getBookById = async (id) => {\n  try {\n    const result = await axios.get(`${BASE_URL}${book}${id}`);\n    return result.data\n  } catch (error) {\n    console.log(error)\n  }\n};\n\n\nexport { getCategoryList, getTopBooks, getBooksByCategory, getBookById }\n\n//для getBooksByCategory, getBookById потрібно передавати параметри \n// getBooksByCategory(category) getBookById(id)","import { getCategoryList } from \"./axios-get\";\n\nexport const categoriesList = document.querySelector('.categories__list');\n\nconst renderCategories = async () => {\n    const categories = await getCategoryList();\n    const markup = categories.map(\n        ({ list_name }) => `\n                <li class='categories__item _list'>\n                    <a data-categories__item data-listName='${list_name}' rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${list_name}</a>\n                </li>`\n    ).sort().join('');\n    \n    return markup;\n};\n\nrenderCategories()\n    .then((resp) => {\n        categoriesList.insertAdjacentHTML('beforeend', resp);\n                \n        \n    })\n    .catch((err) => {\n        // sssssssssssssssssssssssssssssssssssss\n    })\n\n","import { categoriesList } from './renderCategories';\nimport { getBooksByCategory } from \"./axios-get\";\nimport { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { loaderOn, loaderOff } from './loader';\n\nexport const categoryTitle = document.querySelector('.title_best-sellers'); \n\nexport const createCategoryMarcup = async (category) => {\n    return await getBooksByCategory(category);\n};\n\nconst onCategoryClick = (e) => {\n    if (e.target.hasAttribute('data-categories__item')) {\n        e.preventDefault();\n        // loaderOn();\n        const list = document.querySelector('.categories__list');\n        const category = list.getElementsByClassName('categories__link');\n\n        const arr = Array.from(category);\n        for (let index = 0; index < arr.length; index++) {\n            const element = arr[index];\n            element.classList.remove('active__link');\n        }\n        e.target.classList.add('active__link');\n\n        const titleTExt = e.target.dataset.listname.split(' ');\n        titleTExt.pop();\n        const accentText = e.target.dataset.listname.split(' ')[e.target.dataset.listname.split(' ').length - 1];\n        createCategoryMarcup(e.target.dataset.listname)\n            .then((resp) => {\n                \n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                if ( document.documentElement.scrollWidth >= 1440) {\n                    return;\n                }\n                document.querySelector('#best-sellers-container').scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n\n                // loaderOff();\n            })\n    }\n};\n\ncategoriesList.addEventListener('click', onCategoryClick);","import { getTopBooks } from './axios-get';\nimport { makeMarkupForBooks } from './markup-books';\nimport { categoryTitle } from './createCategoryMarcup';\nimport { loaderOn, loaderOff } from './loader';\n\nexport const mainBookList = document.querySelector('.best_list');\nlet numBooksPerRow = 5;\nlet savedMarkup = null;\n\nconst debounce = (func, delay) => {\n  let timeoutId;\n  return (...args) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func(...args), delay);\n  };\n};\n\nconst shouldRenderMarkup = () => {\n  return !categoryTitle.classList.contains('no-change');\n};\n\nconst renderStartMarkup = async () => {\n  if (!shouldRenderMarkup()) return;\n\n  try {\n    // loaderOn();\n    const dataMarkup = await getTopBooks();\n    if (dataMarkup.length === 0) return;\n\n    const firstIndexBooks = dataMarkup.map(({ books, list_name }) => {\n      const booksSlice = books.slice(0, numBooksPerRow);\n      return `<li class='best-item _list'>\n                <h3 class='min-title'>${list_name}</h3>\n                <ul class='books-list'>\n                    ${makeMarkupForBooks(booksSlice)}\n                </ul>\n                <button class='see_more' data-name=\"${list_name}\">See More</button>\n              </li>`;\n    });\n\n    mainBookList.innerHTML = firstIndexBooks.join('');\n  } catch (error) {\n    console.error(error);\n  } finally {\n    // loaderOff();\n  }\n};\n\nconst handleResize = () => {\n  numBooksPerRow = determineNumBooksPerRow();\n  renderStartMarkup();\n};\n\nconst debouncedHandleResize = debounce(handleResize, 300);\nwindow.addEventListener('resize', debouncedHandleResize);\n\nfunction determineNumBooksPerRow() {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return 1;\n  } else if (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n    return 3;\n  } else {\n    return 5;\n  }\n}\n\nconst restoreMarkup = () => {\n  if (!shouldRenderMarkup() && savedMarkup) {\n    mainBookList.innerHTML = savedMarkup;\n  }\n};\n\nwindow.addEventListener('resize', restoreMarkup);\n\nwindow.addEventListener('load', () => {\n  handleResize();\n});\n","import { delBook, pullBookData } from './auth-send-data';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { app } from './firebase';\nimport { getAuth } from 'firebase/auth';\nimport { getDocs, collection, getFirestore } from 'firebase/firestore';\n\nconst auth = getAuth(app);\nconst db = getFirestore(app);\n\nconst el = {\n  body: document.querySelector('body'),\n  modal: document.getElementById('modal'),\n  modalInner: document.getElementById('modal-inner'),\n  modalTitle: document.getElementById('modal-title'),\n  modalAuthor: document.getElementById('modal-author'),\n  modalDescr: document.getElementById('modal-description'),\n  modalImg: document.getElementById('modal-image'),\n  modalClose: document.getElementById('modal-close-btn'),\n  amazonLink: document.getElementById('amazon-link'),\n  appleLink: document.getElementById('apple-link'),\n  barnesLink: document.getElementById('barnes-link'),\n  addToList: document.getElementById('modal-add-to-list'),\n  modalGreetings: document.getElementById('modal-greetings-text'),\n  books: document.getElementById('best-sellers-container'),\n};\n\nconst BUTTON_ADD_TEXT = 'Add to shopping list';\nconst BUTTON_REMOVE_TEXT = 'Remove from the shopping list';\nlet bookInfo = {};\nlet isBookAdded = false;\n\nconst onBookClick = e => {\n  e.preventDefault();\n\n  onAuthStateChanged(auth, async (user) => {\n    if (user) {\n      const email = user.email;\n      const querySnapshot = await getDocs(collection(db, email));\n      const arr = [];\n      querySnapshot.forEach(bookInDataBase => arr.push(bookInDataBase.data().id));\n\n       if (arr.some(el => el === bookInfo.id)) {\n          isBookAdded = true;\n\n          el.addToList.textContent = BUTTON_REMOVE_TEXT;\n          el.modalGreetings.classList.remove('modal-greetings-text-js');\n        } else {\n          isBookAdded = false;\n\n          el.addToList.textContent = BUTTON_ADD_TEXT;\n          el.modalGreetings.classList.add('modal-greetings-text-js');\n        }\n    \n    } else {\n      el.addToList.disabled = true;\n      el.addToList.style.cursor = 'not-allowed';\n    }\n  });\n\n  if (!e.target.closest('.book-item')) return;\n  el.modalClose.addEventListener('click', onCloseModal);\n  document.addEventListener('keydown', onCloseModalESC);\n  el.addToList.addEventListener('click', toggleToList);\n  el.modal.addEventListener('click', onBackdrop);\n  const bookItem = e.target.closest('.book-item');\n\n  // get book data from attrs\n  bookInfo = {\n    id: bookItem.querySelector('._link').dataset.id,\n    title: bookItem.dataset.title,\n    img: bookItem.dataset.image,\n    author: bookItem.dataset.author,\n    description: bookItem.dataset.description,\n    amazonLink: bookItem.dataset.linkurlamazon,\n    appleLink: bookItem.dataset.linkurlapple,\n    barnesLink: bookItem.dataset.linkurlbarnes,\n    listname: bookItem.dataset.listname,\n  };\n\n  // Insert book data to modal and save current BookId\n  el.modalTitle.textContent = bookInfo.title;\n  el.modalAuthor.textContent = bookInfo.author;\n  el.modalDescr.textContent = bookInfo.description;\n  el.modalImg.src = bookInfo.img;\n  el.amazonLink.href = bookInfo.amazonLink;\n  el.appleLink.href = bookInfo.appleLink;\n  el.barnesLink.href = bookInfo.barnesLink;\n\n  currentBookId = bookInfo.id;\n\n  // check if this book has been already added to storage\n  // isBookAdded = getItem(bookInfo.id);\n  if (!isBookAdded) {\n    el.addToList.textContent = BUTTON_ADD_TEXT;\n    el.modalGreetings.classList.add('modal-greetings-text-js');\n  } else {\n    el.addToList.textContent = BUTTON_REMOVE_TEXT;\n    el.modalGreetings.classList.remove('modal-greetings-text-js');\n  }\n\n  // open Modal\n  el.body.classList.add('no-scroll-js');\n  el.modal.classList.toggle('modal-js');\n};\n\nconst onCloseModal = (e) => {\n  el.modal.classList.add('modal-js');\n  el.body.classList.remove('no-scroll-js');\n  el.modalClose.removeEventListener('click', onCloseModal);\n  document.removeEventListener('keydown', onCloseModalESC);\n  el.addToList.removeEventListener('click', toggleToList);\n  el.modal.removeEventListener('click', onBackdrop);\n};\n\n  \n\nconst onBackdrop = (e) => {\n    if (e.target === e.currentTarget) {\n      onCloseModal();\n      el.modalClose.removeEventListener('click', onCloseModal);\n      document.removeEventListener('keydown', onCloseModalESC);\n      el.addToList.removeEventListener('click', toggleToList);\n      el.modal.removeEventListener('click', onBackdrop);\n    }\n};\n\nconst onCloseModalESC = e => {\n  if (e.key === 'Escape') {\n    onCloseModal();\n    el.modalClose.removeEventListener('click', onCloseModal);\n    document.removeEventListener('keydown', onCloseModalESC);\n    el.addToList.removeEventListener('click', toggleToList);\n    el.modal.removeEventListener('click', onBackdrop);\n  }\n};\n\nconst toggleToList = () => {\n  if (!isBookAdded) {\n    // setItem(bookInfo);\n    pullBookData(bookInfo);\n    el.addToList.textContent = BUTTON_REMOVE_TEXT;\n    el.modalGreetings.classList.remove('modal-greetings-text-js');\n    isBookAdded = true;\n  } else {\n    // removeItem(currentBookId);\n    delBook(bookInfo.id)\n    el.addToList.textContent = BUTTON_ADD_TEXT;\n    el.modalGreetings.classList.add('modal-greetings-text-js');\n    isBookAdded = false;\n  }\n};\n\nel.books.addEventListener('click', onBookClick);\n\n// el.modalInner.addEventListener('click', e => e.stopPropagation());\n\n// el.books.removeEventListener","//scroll-up\nconst btnGoTop = document.querySelector(\".go-top\")\nbtnGoTop.hidden = true;\n\nexport const goTop = () => {\n    if (window.scrollY > 0) {\n        window.scrollBy(0, -82);\n        setTimeout(goTop, 0);\n    }\n}\n\nconst onScroll = () => {\n    const offset = window.scrollY;\n    const coords = document.documentElement.clientHeight;\n    if (offset*5 >= coords) {\n        btnGoTop.hidden = false\n    } else {\n        btnGoTop.hidden = true;\n    }\n}\n\nwindow.addEventListener('scroll', onScroll);\nbtnGoTop.addEventListener('click', goTop);","import { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { createCategoryMarcup, categoryTitle } from './createCategoryMarcup';\nimport { loaderOn, loaderOff } from './loader';\nimport { goTop } from './scroll-up';\n\nconst onSeeMoreClick = (e) => {\n    if (e.target.classList.contains('see_more')) {\n        e.preventDefault();\n        \n        const list = document.querySelector('.categories__list');\n        const category = list.getElementsByClassName('categories__link');\n\n        const arr = Array.from(category);\n        for (let index = 0; index < arr.length; index++) {\n            const element = arr[index];\n            element.classList.remove('active__link');\n\n            if (e.target.dataset.name === element.innerText) {\n                element.classList.add('active__link');\n\n            }\n        }\n\n        const titleTExt =  e.target.dataset.name.split(' ');\n        titleTExt.pop();\n        const accentText =  e.target.dataset.name.split(' ')[ e.target.dataset.name.split(' ').length - 1];\n        createCategoryMarcup( e.target.dataset.name)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                // loaderOff();\n                // if ( document.documentElement.scrollWidth >= 1440) {\n                //     return;\n                // }\n                document.querySelector('#best-sellers-container').scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n            })\n    }\n};\n\nmainBookList.addEventListener('click', onSeeMoreClick);","let position = 0;\nlet slidesToShow = 6;\nlet slidesToScroll = 1.5;\n\nconst container = document.querySelector('.slider-container');\nconst list = document.querySelector('.support-ukraine__list');\nconst sliderButton = document.querySelector('.support-ukraine__btn');\nconst itemsSupport = document.querySelectorAll('.support-ukraine__item');\nlet itemsCount = itemsSupport.length;\nconst sliderItemHeight = 32;\nconst movePosition = slidesToScroll * sliderItemHeight;\n\nitemsSupport.forEach((item) => {\n  item.style.minHeight = `${sliderItemHeight}px`;\n});\n\nsliderButton.addEventListener('click', () => {\n  const itemsBottom = getItemsBottom();\n\n  if (itemsBottom >= slidesToScroll) {\n    position -= movePosition;\n  } else {\n    position = 0;\n  }\n\n  list.style.transition = 'transform 0.3s ease-out';\n  setPosition();\n\n  setTimeout(() => {\n    list.style.transition = '';\n  }, 300);\n});\n\nwindow.addEventListener('resize', () => {\n  itemsCount = itemsSupport.length;\n  setPosition();\n});\n\nconst setPosition = () => {\n  list.style.transform = `translateY(${position}px)`;\n};\n\nfunction getItemsBottom() {\n  const windowWidth = window.innerWidth;\n\n  if (windowWidth >= 1440) {\n    return itemsCount - (Math.abs(position) + slidesToShow * sliderItemHeight) / 39;\n  } else if (windowWidth >= 768) {\n    return itemsCount - (Math.abs(position) + slidesToShow * sliderItemHeight) / 40;\n  } else {\n    return itemsCount - (Math.abs(position) + slidesToShow * sliderItemHeight) / 55;\n  }\n}"],"names":["parcelRequire","$0748698d39923467$export$c2ff2758ce23ccbb","booksArray","map","book_image","title","author","_id","list_name","description","buy_links","name","url","join","$2shzp","$9d12fd87e78c22ef$var$BASE_URL","$9d12fd87e78c22ef$export$97875efe23d1d9ba","async","default","get","data","error","console","log","$9d12fd87e78c22ef$export$3a1253a897925caa","error1","Error","$9d12fd87e78c22ef$export$6777c992b9bef59e","category","params","$0062a3ce137c21ac$export$94bc654d13d3e8cb","document","querySelector","sort","$0062a3ce137c21ac$var$renderCategories","then","resp","insertAdjacentHTML","catch","err","$2c4cada00c5298b3$export$fc6e89e9bf9f348b","$2c4cada00c5298b3$export$8d0d2589e3c58f4b","addEventListener","e","target","hasAttribute","preventDefault","getElementsByClassName","arr","Array","from","index","length","classList","remove","add","titleTExt","dataset","listname","split","pop","accentText","innerHTML","$90e6a17a15f2fb61$export$354f2e393cddbae9","documentElement","scrollWidth","scrollIntoView","behavior","block","$90e6a17a15f2fb61$var$numBooksPerRow","$90e6a17a15f2fb61$var$shouldRenderMarkup","contains","$90e6a17a15f2fb61$var$renderStartMarkup","dataMarkup","firstIndexBooks","books","booksSlice","slice","$90e6a17a15f2fb61$var$handleResize","window","matchMedia","matches","$90e6a17a15f2fb61$var$debouncedHandleResize","func","delay","timeoutId","args","clearTimeout","setTimeout","$90e6a17a15f2fb61$var$debounce","$a0qxx","$8a7e756c566dd1ea$var$auth","$eyjy7","getAuth","$2ix2C","app","$8a7e756c566dd1ea$var$db","$ftYLF","getFirestore","$8a7e756c566dd1ea$var$el","body","modal","getElementById","modalInner","modalTitle","modalAuthor","modalDescr","modalImg","modalClose","amazonLink","appleLink","barnesLink","addToList","modalGreetings","$8a7e756c566dd1ea$var$BUTTON_ADD_TEXT","$8a7e756c566dd1ea$var$BUTTON_REMOVE_TEXT","$8a7e756c566dd1ea$var$bookInfo","$8a7e756c566dd1ea$var$isBookAdded","$8a7e756c566dd1ea$var$onCloseModal","removeEventListener","$8a7e756c566dd1ea$var$onCloseModalESC","$8a7e756c566dd1ea$var$toggleToList","$8a7e756c566dd1ea$var$onBackdrop","currentTarget","key","delBook","id","textContent","pullBookData","onAuthStateChanged","user","email","querySnapshot","getDocs","collection","forEach","bookInDataBase","push","some","el1","disabled","style","cursor","closest","bookItem","img","image","linkurlamazon","linkurlapple","linkurlbarnes","src","href","currentBookId","toggle","$52650fc44c8b8200$var$btnGoTop","hidden","$52650fc44c8b8200$export$f3c717e3626b749b","scrollY","scrollBy","offset","coords","clientHeight","element","innerText","$42034fff848b3787$var$position","$42034fff848b3787$var$list","$42034fff848b3787$var$sliderButton","$42034fff848b3787$var$itemsSupport","querySelectorAll","$42034fff848b3787$var$itemsCount","item","minHeight","windowWidth","innerWidth","Math","abs","$42034fff848b3787$var$slidesToShow","$42034fff848b3787$var$getItemsBottom","$42034fff848b3787$var$slidesToScroll","transition","$42034fff848b3787$var$setPosition","transform"],"version":3,"file":"index.e0b46072.js.map"}