{"mappings":"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","sources":["src/js/markup-books.js","src/js/get-top-books.js","src/js/renderCategories.js","src/js/createCategoryMarcup.js","src/js/loader.js","src/fonds.json","src/js/createFoundsMarcup.js","src/js/seeMore.js"],"sourcesContent":["export const makeMarkupForBooks = (booksArray) => {\n  const markup = booksArray.map(\n    ({ book_image, title, author, _id, list_name, description, buy_links }) => `\n      <li class=\"book-item\" class=\"_list\"\n        data-title=\"${title}\"\n        data-image=\"${book_image}\"\n        data-author=\"${author}\"\n        data-listName=\"${list_name}\"\n        data-description=\"${description}\"\n        data-linkNameAmazon=\"${buy_links[0].name}\"\n        data-linkUrlAmazon=\"${buy_links[0].url}\"\n        data-linkNameApple=\"${buy_links[1].name}\"\n        data-linkUrlApple=\"${buy_links[1].url}\"\n        data-linkNameBarnes=\"${buy_links[2].name}\"\n        data-linkUrlBarnes=\"${buy_links[2].url}\"\n      >\n        <a href=\"#\" class=\"_link\" class=\"book-item\" data-id=\"${_id}\">\n          <div class=\"thumb\">\n            <img class=\"lazyload\" src=\"../images/testBook.png\" data-src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\"/>\n            <div class=\"overlay\">\n              <p class=\"overlay-text\">quick view </p>\n            </div>\n          </div>\n          <h3 class=\"book-title\">${title}</h3>\n          <p class=\"book-author\">${author}</p>\n        </a>\n      </li>\n    `\n  ).join('');\n  return markup;\n};\n\n\n\n","import { getTopBooks } from './axios-get';\nimport { makeMarkupForBooks } from './markup-books';\nimport { categoryTitle } from './createCategoryMarcup';\n\nexport const mainBookList = document.querySelector('.best_list');\nlet numBooksPerRow = 5;\nlet savedMarkup = null;\n\nconst debounce = (func, delay) => {\n  let timeoutId;\n  return (...args) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func(...args), delay);\n  };\n};\n\nconst shouldRenderMarkup = () => {\n  return !categoryTitle.classList.contains('no-change');\n};\n\nconst renderStartMarkup = async () => {\n  if (!shouldRenderMarkup()) return;\n\n  try {\n    const dataMarkup = await getTopBooks();\n    if (dataMarkup.length === 0) return;\n\n    const firstIndexBooks = dataMarkup.map(({ books, list_name }) => {\n      const booksSlice = books.slice(0, numBooksPerRow);\n      return `<li class='best-item _list'>\n                <h4 class='min-title'>${list_name}</h4>\n                <ul class='books-list'>\n                    ${makeMarkupForBooks(booksSlice)}\n                </ul>\n                <button class='see_more' data-name=\"${list_name}\">See More</button>\n              </li>`;\n    });\n\n    mainBookList.innerHTML = firstIndexBooks.join('');\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst handleResize = () => {\n  numBooksPerRow = determineNumBooksPerRow();\n  renderStartMarkup();\n};\n\nconst debouncedHandleResize = debounce(handleResize, 150);\nwindow.addEventListener('resize', debouncedHandleResize);\n\nfunction determineNumBooksPerRow() {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return 1;\n  } else if (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n    return 3;\n  } else {\n    return 5;\n  }\n}\n\nconst restoreMarkup = () => {\n  if (!shouldRenderMarkup() && savedMarkup) {\n    mainBookList.innerHTML = savedMarkup;\n  }\n};\n\nwindow.addEventListener('resize', restoreMarkup);\n\nwindow.addEventListener('load', () => {\n  handleResize();\n});\n","import { getCategoryList } from \"./axios-get\";\n\nexport const categoriesList = document.querySelector('.categories__list');\n\nconst renderCategories = async () => {\n    const categories = await getCategoryList();\n    const markup = categories.map(\n        ({ list_name }) => `\n                <li class='categories__item _list'>\n                    <a data-categories__item rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${list_name}</a>\n                </li>`\n    ).sort().join('');\n    return markup;\n};\n\nrenderCategories()\n    .then((resp) => {\n        categoriesList.insertAdjacentHTML('beforeend', resp);\n    })\n    .catch((err) => {\n        console.log('err', err)\n    });\n\n","import { categoriesList } from './renderCategories';\nimport { getBooksByCategory } from \"./axios-get\";\nimport { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nexport const categoryTitle = document.querySelector('.title_best-sellers');\nconst categoryAccent = document.querySelector('.title_book');\n\n\nexport const createCategoryMarcup = async (category) => {\n    return await getBooksByCategory(category);\n};\n\nconst onCategoryClick = (e) => {\n    if (e.target.hasAttribute('data-categories__item')) {\n        e.preventDefault();\n        const titleTExt = e.target.innerText.split(' ');\n        titleTExt.pop();\n        const accentText = e.target.innerText.split(' ')[e.target.innerText.split(' ').length - 1];\n        createCategoryMarcup(e.target.innerText)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                console.log('resp', resp)\n            })\n    }\n};\n\ncategoriesList.addEventListener('click', onCategoryClick);","const wrapLoader = document.querySelector('.wrapper-loader');\nconst loader = document.querySelector('.loader');\n\nconst loaderOn = () => {\n    loader.classList.remove('hidden-loader');\n    wrapLoader.classList.remove('hidden-loader');\n}\n\nconst loaderOff = () => {\n    loader.classList.add('hidden-loader');\n    wrapLoader.classList.add('hidden-loader');\n}\nloaderOff()\n\nexport { loaderOn, loaderOff }\n\n\n\n// у функціях де іду запит на початку ставимо loaderOn,\n// у блок finally loaderOff\n\n//<div class=\"wrapper-loader\"></div><div class=\"loader\"></div>\n\n","[\n    { \n        \"title\": \"Save the Children\",\n        \"img\": \"./images/founds/Save_the_Children.png\",\n        \"url\": \"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis\"\n    },\n    {\n        \"title\": \"Project HOPE\",\n        \"img\": \"./images/founds/project_Hope.png\",\n        \"url\": \"https://www.projecthope.org/country/ukraine/\"\n    },\n    {\n        \"title\": \"UNITED24\",\n        \"img\": \"./images/founds/United24.png\",\n        \"url\": \"https://u24.gov.ua/uk\"\n    },\n    {\n        \"title\": \"International Medical Corps\",\n        \"img\": \"./images/founds/Internation_medical_corps.png\",\n        \"url\": \"https://internationalmedicalcorps.org/country/ukraine/\"\n    },\n    {\n        \"title\": \"Medicins Sans Frontieres\",\n        \"img\": \"./images/founds/Medicins_sans_frontieres.png\",\n        \"url\": \"https://www.msf.org/ukraine\"\n    },\n    {\n        \"title\": \"RAZOM\",\n        \"img\": \"./images/founds/Razom.png\",\n        \"url\": \"https://www.razomforukraine.org/\"\n    },\n    {\n        \"title\": \"Action against hunger\",\n        \"img\": \"../src/images/founds/Action_against_hunger.png\",\n        \"url\": \"https://www.actionagainsthunger.org/location/europe/ukraine/\"\n    },\n    {\n        \"title\": \"World vision\",\n        \"img\": \"./images/founds/World_vision.png\",\n        \"url\": \"https://www.wvi.org/emergencies/ukraine\"\n    },\n    {\n        \"title\": \"Serhiy Prytula Charity Foundation\",\n        \"img\": \"./images/founds/prutyla.png\",\n        \"url\": \"https://prytulafoundation.org/en\"\n    }\n]","import fonds from '../fonds.json';\n\nconst foundsList = document.querySelector('.support-ukraine__list');\nconst createFoundsMarcup = () => {\n    return foundsList.innerHTML = fonds.map(({ title, url, img }) => `\n        <li class='support-ukraine__item'>\n            <a target=\"_blank\" rel='noopener no-referrel nofollow' class='support-ukraine__link _link' href='${url}'>\n            <img src=\"${img}\" alt=\"${title}\">\n            </a>\n        </li>`\n    ).join('');\n}\n\ncreateFoundsMarcup();","import { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nimport { createCategoryMarcup, categoryTitle } from './createCategoryMarcup';\n\nconst onSeeMoreClick = (e) => {\n    if (e.target.classList.contains('see_more')) {\n        console.log('e', e.target.dataset.name);\n        const titleTExt =  e.target.dataset.name.split(' ');\n        titleTExt.pop();\n        const accentText =  e.target.dataset.name.split(' ')[ e.target.dataset.name.split(' ').length - 1];\n        createCategoryMarcup( e.target.dataset.name)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                console.log('resp', resp)\n            })\n    }\n};\n\nmainBookList.addEventListener('click', onSeeMoreClick);"],"names":["$0748698d39923467$export$c2ff2758ce23ccbb","booksArray","map","book_image","title","author","_id","list_name","description","buy_links","name","url","join","$du6kM","parcelRequire","$0062a3ce137c21ac$export$94bc654d13d3e8cb","document","querySelector","async","getCategoryList","sort","$0062a3ce137c21ac$var$renderCategories","then","resp","insertAdjacentHTML","catch","err","console","log","$2c4cada00c5298b3$export$fc6e89e9bf9f348b","$2c4cada00c5298b3$export$8d0d2589e3c58f4b","category","getBooksByCategory","addEventListener","e","target","hasAttribute","preventDefault","titleTExt","innerText","split","pop","accentText","length","classList","add","innerHTML","$90e6a17a15f2fb61$export$354f2e393cddbae9","$90e6a17a15f2fb61$var$numBooksPerRow","$90e6a17a15f2fb61$var$shouldRenderMarkup","contains","$90e6a17a15f2fb61$var$handleResize","window","matchMedia","matches","dataMarkup","getTopBooks","firstIndexBooks","books","booksSlice","slice","error","$90e6a17a15f2fb61$var$renderStartMarkup","$90e6a17a15f2fb61$var$debouncedHandleResize","func","delay","timeoutId","args","clearTimeout","setTimeout","$90e6a17a15f2fb61$var$debounce","$bdfcdc80b4c38739$var$wrapLoader","$bdfcdc80b4c38739$var$loader","$3e079012d4bd0ddd$exports","JSON","parse","$parcel$interopDefault","img","dataset"],"version":3,"file":"index.2eca70cf.js.map"}