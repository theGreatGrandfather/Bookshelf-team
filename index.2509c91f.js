!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n("eVdBp");const o=e=>e.map((({book_image:e,title:t,author:a,_id:n,list_name:o,description:s,buy_links:i})=>`\n      <li class="book-item" class="_list"\n        data-title="${t}"\n        data-image="${e}"\n        data-author="${a}"\n        data-listName="${o}"\n        data-description="${s}"\n        data-linkNameAmazon="${i[0].name}"\n        data-linkUrlAmazon="${i[0].url}"\n        data-linkNameApple="${i[1].name}"\n        data-linkUrlApple="${i[1].url}"\n        data-linkNameBarnes="${i[2].name}"\n        data-linkUrlBarnes="${i[2].url}"\n      >\n        <a href="#" class="_link" class="book-item" data-id="${n}">\n          <div class="thumb">\n            <img class="lazyload" src="https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png" data-src="${e||"https://raw.githubusercontent.com/theGreatGrandfather/apple/main/src/images/testBook.png"}" alt="${t}" loading="lazy"/>\n            <div class="overlay">\n              <p class="overlay-text">quick view </p>\n            </div>\n          </div>\n          <h4 class="book-title">${t}</h4>\n          <p class="book-author">${a}</p>\n        </a>\n      </li>\n    `)).join("");var s=n("dIxxU"),i=n("6JpON");const l="https://books-backend.p.goit.global",r=async()=>{try{return(await s.default.get(`${l}/books/category-list`)).data}catch(e){i.Notify.failure(`Error: ${errorMessage}`)}},d=async()=>{try{return(await s.default.get(`${l}/books/top-books`)).data}catch(e){i.Notify.failure(`Error: ${errorMessage}`)}throw new Error(error)},c=async e=>{try{return(await s.default.get(`${l}/books/category`,{params:{category:e}})).data}catch(e){i.Notify.failure(`Error: ${errorMessage}`)}};i=n("6JpON");const m=document.querySelector(".categories__list");(async()=>(await r()).map((({list_name:e})=>`\n                <li class='categories__item _list'>\n                    <a data-categories__item data-listName='${e}' rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${e}</a>\n                </li>`)).sort().join(""))().then((e=>{m.insertAdjacentHTML("beforeend",e)})).catch((e=>{i.Notify.failure(`Error: ${errorMessage}`)})),n("kvC6y");const u=document.querySelector(".title_best-sellers"),g=async e=>await c(e);m.addEventListener("click",(e=>{if(e.target.hasAttribute("data-categories__item")){e.preventDefault();const t=document.querySelector(".categories__list").getElementsByClassName("categories__link"),a=Array.from(t);for(let e=0;e<a.length;e++){a[e].classList.remove("active__link")}e.target.classList.add("active__link");const n=e.target.dataset.listname.split(" ");n.pop();const s=e.target.dataset.listname.split(" ")[e.target.dataset.listname.split(" ").length-1];g(e.target.dataset.listname).then((e=>{u.classList.add("no-change"),u.innerHTML=`${n.join(" ")}&nbsp\n                <span class="title_book">${s}</span>`,p.innerHTML=o(e),document.documentElement.scrollWidth>=1440||document.querySelector("#best-sellers-container").scrollIntoView({behavior:"smooth",block:"start"})}))}})),n("kvC6y");i=n("6JpON");const p=document.querySelector(".best_list");let k=5;const h=()=>!u.classList.contains("no-change"),L=async()=>{if(h())try{const e=await d();if(0===e.length)return;const t=e.map((({books:e,list_name:t})=>{const a=e.slice(0,k);return`<li class='best-item _list'>\n                <h3 class='min-title'>${t}</h3>\n                <ul class='books-list'>\n                    ${o(a)}\n                </ul>\n                <button class='see_more' data-name="${t}">See More</button>\n              </li>`}));p.innerHTML=t.join("")}catch(e){i.Notify.failure(`Error: ${errorMessage}`)}},y=()=>{k=window.matchMedia("(max-width: 767px)").matches?1:window.matchMedia("(min-width: 768px) and (max-width: 1439px)").matches?3:5,L()},v=((e,t)=>{let a;return(...n)=>{clearTimeout(a),a=setTimeout((()=>e(...n)),t)}})(y,300);window.addEventListener("resize",v);window.addEventListener("resize",(()=>{h(),0})),window.addEventListener("load",(()=>{y()}));var b=n("6uLmu"),f=n("gQOBw"),E=n("iNWLi"),w=(f=n("gQOBw"),n("6m2hf"));const _=(0,f.getAuth)(E.app),$=(0,w.getFirestore)(E.app),x={body:document.querySelector("body"),modal:document.getElementById("modal"),modalInner:document.getElementById("modal-inner"),modalTitle:document.getElementById("modal-title"),modalAuthor:document.getElementById("modal-author"),modalDescr:document.getElementById("modal-description"),modalImg:document.getElementById("modal-image"),modalClose:document.getElementById("modal-close-btn"),amazonLink:document.getElementById("amazon-link"),appleLink:document.getElementById("apple-link"),barnesLink:document.getElementById("barnes-link"),addToList:document.getElementById("modal-add-to-list"),modalGreetings:document.getElementById("modal-greetings-text"),books:document.getElementById("best-sellers-container")},T="Add to shopping list",B="Remove from the shopping list";let C={},I=!1;const M=e=>{x.modal.classList.add("modal-js"),x.body.classList.remove("no-scroll-js"),x.modalClose.removeEventListener("click",M),document.removeEventListener("keydown",j),x.addToList.removeEventListener("click",q),x.modal.removeEventListener("click",N)},N=e=>{e.target===e.currentTarget&&(M(),x.modalClose.removeEventListener("click",M),document.removeEventListener("keydown",j),x.addToList.removeEventListener("click",q),x.modal.removeEventListener("click",N))},j=e=>{"Escape"===e.key&&(M(),x.modalClose.removeEventListener("click",M),document.removeEventListener("keydown",j),x.addToList.removeEventListener("click",q),x.modal.removeEventListener("click",N))},q=()=>{I?((0,b.delBook)(C.id),x.addToList.textContent=T,x.modalGreetings.classList.add("modal-greetings-text-js"),I=!1):((0,b.pullBookData)(C),x.addToList.textContent=B,x.modalGreetings.classList.remove("modal-greetings-text-js"),I=!0)};x.books.addEventListener("click",(e=>{if(e.preventDefault(),(0,f.onAuthStateChanged)(_,(async e=>{if(e){const t=e.email,a=await(0,w.getDocs)((0,w.collection)($,t)),n=[];a.forEach((e=>n.push(e.data().id))),n.some((e=>e===C.id))?(I=!0,x.addToList.textContent=B,x.modalGreetings.classList.remove("modal-greetings-text-js")):(I=!1,x.addToList.textContent=T,x.modalGreetings.classList.add("modal-greetings-text-js"))}else x.addToList.disabled=!0,x.addToList.style.cursor="not-allowed"})),!e.target.closest(".book-item"))return;x.modalClose.addEventListener("click",M),document.addEventListener("keydown",j),x.addToList.addEventListener("click",q),x.modal.addEventListener("click",N);const t=e.target.closest(".book-item");C={id:t.querySelector("._link").dataset.id,title:t.dataset.title,img:t.dataset.image,author:t.dataset.author,description:t.dataset.description,amazonLink:t.dataset.linkurlamazon,appleLink:t.dataset.linkurlapple,barnesLink:t.dataset.linkurlbarnes,listname:t.dataset.listname},x.modalTitle.textContent=C.title,x.modalAuthor.textContent=C.author,x.modalDescr.textContent=C.description,x.modalImg.src=C.img,x.amazonLink.href=C.amazonLink,x.appleLink.href=C.appleLink,x.barnesLink.href=C.barnesLink,currentBookId=C.id,I?(x.addToList.textContent=B,x.modalGreetings.classList.remove("modal-greetings-text-js")):(x.addToList.textContent=T,x.modalGreetings.classList.add("modal-greetings-text-js")),x.body.classList.add("no-scroll-js"),x.modal.classList.toggle("modal-js")})),n("4jEcb"),n("7hKzD");const S=document.querySelector(".go-top");S.hidden=!0;const z=()=>{window.scrollY>0&&(window.scrollBy(0,-82),setTimeout(z,0))};window.addEventListener("scroll",(()=>{const e=window.scrollY,t=document.documentElement.clientHeight;S.hidden=!(5*e>=t)})),S.addEventListener("click",z),n("50Y4H"),n("f5DzK"),n("kvC6y");p.addEventListener("click",(e=>{if(e.target.classList.contains("see_more")){e.preventDefault();const t=document.querySelector(".categories__list").getElementsByClassName("categories__link"),a=Array.from(t);for(let t=0;t<a.length;t++){const n=a[t];n.classList.remove("active__link"),e.target.dataset.name===n.innerText&&n.classList.add("active__link")}const n=e.target.dataset.name.split(" ");n.pop();const s=e.target.dataset.name.split(" ")[e.target.dataset.name.split(" ").length-1];g(e.target.dataset.name).then((e=>{u.classList.add("no-change"),u.innerHTML=`${n.join(" ")}&nbsp\n                <span class="title_book">${s}</span>`,p.innerHTML=o(e),document.querySelector("#best-sellers-container").scrollIntoView({behavior:"smooth",block:"start"})}))}}));let A=0;document.querySelector(".slider-container");const D=document.querySelector(".support-ukraine__list"),G=document.querySelector(".support-ukraine__btn"),H=document.querySelectorAll(".support-ukraine__item");let O=H.length;H.forEach((e=>{e.style.minHeight="32px"})),G.addEventListener("click",(()=>{(function(){const e=window.innerWidth;return e>=1440?O-(Math.abs(A)+192)/39:e>=768?O-(Math.abs(A)+192)/40:O-(Math.abs(A)+192)/55})()>=1.5?A-=48:A=0,D.style.transition="transform 0.3s ease-out",U(),setTimeout((()=>{D.style.transition=""}),300)})),window.addEventListener("resize",(()=>{O=H.length,U()}));const U=()=>{D.style.transform=`translateY(${A}px)`}}();
//# sourceMappingURL=index.2509c91f.js.map
