var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,s.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s);var o=s("eyjy7"),l=s("ftYLF"),i=s("a0qxx"),r=s("2ix2C"),a=s("7Y9D8");const c={defaultMarkup:document.getElementById("js-shl-default-container"),bookListEl:document.getElementById("js-shl-booklist")},d=()=>{c.defaultMarkup.style.display="flex",a.Notify.info("There are no books in your list yet...")},p=e=>{if(!e.target.classList.contains("js-shl-del-btn"))return;const t=e.target.closest(".js-shl-card"),n=t.dataset.id;t.remove(),(0,i.delBook)(n),c.bookListEl.children.length||d()},u=e=>{c.defaultMarkup.style.display="none";const t=(e=>e.map((({id:e,data:{img:t,title:n,listname:s,description:o,author:l,amazonLink:i,appleLink:r,barnesLink:a}})=>`<li class="shopping-list__item shopping-list-card js-shl-card" data-id='${e}'>\n          <img\n            class="shopping-list-card__image"\n            src="${t}"\n            alt="${n}"\n          />\n          <div class="shopping-list-card__info">\n            <h2 class="shopping-list-card__title">${n}</h2>\n            <p class="shopping-list-card__category">${s}</p>\n            <p class="shopping-list-card__descr">\n            ${o}\n            </p>\n            <div class="shopping-list-card__wrapper">\n              <p class="shopping-list-card__author">${l}</p>\n              <div class="shopping-list-card__links">\n                <a\n                  href="${i}"\n                  target="_blank"\n                  class="shopping-list-card__link --amazon _link"\n                ></a>\n                <a\n                  href="${r}"\n                  target="_blank"\n                  class="shopping-list-card__link --apple _link"\n                ></a>\n                <a\n                  href="${a}"\n                  target="_blank"\n                  class="shopping-list-card__link --barnes _link"\n                ></a>\n              </div>\n            </div>\n            <button class="shopping-list-card__button js-shl-del-btn" type="button">\n              <svg\n                class="shopping-list-card__button--icon"\n                xmlns="http://www.w3.org/2000/svg"\n                width="16"\n                height="16"\n                viewBox="0 0 16 16"\n                fill="none"\n              >\n                <path\n                  d="M6 2H10M2 4H14M12.6667 4L12.1991 11.0129C12.129 12.065 12.0939 12.5911 11.8667 12.99C11.6666 13.3412 11.3648 13.6235 11.0011 13.7998C10.588 14 10.0607 14 9.00623 14H6.99377C5.93927 14 5.41202 14 4.99889 13.7998C4.63517 13.6235 4.33339 13.3412 4.13332 12.99C3.90607 12.5911 3.871 12.065 3.80086 11.0129L3.33333 4M6.66667 7V10.3333M9.33333 7V10.3333"\n                  stroke="white"\n                  stroke-linecap="round"\n                  stroke-linejoin="round"\n                />\n              </svg>\n            </button>\n          </div>\n        </li>`)).join(""))(e);c.bookListEl.insertAdjacentHTML("beforeend",t),c.bookListEl.addEventListener("click",p)},_=(0,o.getAuth)(r.app),g=(0,l.getFirestore)(r.app);(0,o.onAuthStateChanged)(_,(async e=>{if(e){const t=e.email,n=await(0,l.getDocs)((0,l.collection)(g,t)),s=[];if(n.forEach((e=>{const t={id:e.id,data:e.data()};s.push(t)})),!s.length)return d();u(s)}else a.Notify.info("Please Sign-In/Sign-Up")})),s("h0Nss"),s("4Z4PC"),s("e3Z2B");const m=document.querySelector("body"),y=document.querySelector(".modal__form__backdrop"),h=document.querySelector(".form__button_submit"),f=document.querySelector(".modal__form__close__bt"),b=document.querySelector(".modal__form__backdrop"),v=e=>{e.target===e.currentTarget&&E()},k=e=>{E()},L=e=>{"Escape"===e.key&&E()},E=()=>{m.classList.toggle("no-scroll-js"),y.classList.toggle("is-hiden"),document.removeEventListener("keydown",L),b.removeEventListener("click",v),f.removeEventListener("click",k)};h.addEventListener("click",(e=>{e.preventDefault(),console.log("e",e),m.classList.toggle("no-scroll-js"),y.classList.toggle("is-hiden"),document.addEventListener("keydown",L),f.addEventListener("click",k),b.addEventListener("click",v)})),s("6J4zK");var w=s("2shzp");s("eyjy7"),s("ftYLF"),s("2ix2C");const A=document.querySelector(".modal__form__thanks"),S=document.querySelector(".modal__form__backdrop"),j=document.querySelector("body");let q;!function(){const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDW-p4nZpSUbbOWr0MdEUruheMS1uooSQw&libraries=places&callback=initAutocomplete",e.async=!0,e.defer=!0,window.initAutocomplete=function(){q=new google.maps.places.Autocomplete(document.getElementById("pac-input"),{types:["address"],componentRestrictions:{country:["us"]}}),q.addListener("place_changed",T)};const t=document.getElementById("google-maps-script");t.parentNode.insertBefore(e,t)}();const x=document.querySelector(".modal__form");x.addEventListener("submit",(async function(e){e.preventDefault();const t=new FormData(x);if(t.append("object",M.formatted_address),0===function(e){let t=0,l=document.querySelectorAll("._req-big");for(let e=0;e<l.length;e++){const i=l[e];s(i),i.classList.contains("_req-big-tel")?o(i)&&(n(i),t++):""===i.value&&(n(i),t++)}return t}()){const e=document.querySelectorAll(".shopping-list-card__title");console.log("bocks",e);const n=Array.from(e);for(let e=0;e<n.length;e++){const t=n[e].textContent;C+=`${t} \n`}!function(){for(let e of t.entries())""!=e[1]&&(C+=` ${e.join(" : ")}\n`);console.log("messageToTg",C)}(),w.default.post("https://api.telegram.org/bot6279094717:AAEINNI-WB8PTYW-nQglKgNdX6lALH6T6A0/sendMessage",{chat_id:"-1001887598395",parse_mode:"html",text:C}).then(A.classList.toggle("is-hiden"),S.classList.toggle("is-hiden"),setTimeout((()=>{A.classList.toggle("is-hiden"),j.classList.toggle("no-scroll-js")}),1e3))}function n(e){e.classList.add("_error"),e.classList.add("_error")}function s(e){e.classList.remove("_error"),e.classList.remove("_error")}function o(e){return!/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/.test(e.value)}}));let C="<b>New order</b>\n";const M={};let $;function T(){$=q.getPlace(),N($)}const N=e=>{if(!Array.isArray(e.address_components))throw Error("Address Components is not an array");if(!e.address_components.length)throw Error("Address Components is empty");const t=e=>e.types.includes("street_number"),n=e=>e.types.includes("route"),s=e=>!!(e.types.includes("locality")||e.types.includes("sublocality")||e.types.includes("administrative_area_level_3"))||!(!e.types.includes("neighborhood")||!e.types.includes("political"))&&(M.prev_city_component="neighborhood",!0),o=e=>e.types.includes("administrative_area_level_1"),l=e=>e.types.includes("country"),i=e=>e.types.includes("administrative_area_level_2"),r=e=>e.types.includes("postal_code");for(const a of e.address_components){const e=a;t(e)&&(M.street_number=e.long_name),n(e)&&(M.street_name=e.long_name),!s(e)||M.city&&"neighborhood"!==M.prev_city_component||(M.city=e.long_name),l(e)&&(M.country=e.long_name),i(e)&&(M.county=e.long_name),o(e)&&(M.state=e.long_name),r(e)&&(M.postal_code=e.long_name)}return e.types.includes("locality")?M.type="city":e.types.includes("administrative_area_level_1")?M.type="state":e.types.includes("street_address")||e.types.includes("route")||e.types.includes("premise")?M.type="street_address":e.types.includes("lcountry")?M.type="country":M.type=null,M.formatted_address=e.formatted_address,M};s("6J4zK");
//# sourceMappingURL=shopping-list.1df0a11a.js.map
