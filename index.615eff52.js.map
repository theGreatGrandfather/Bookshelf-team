{"mappings":"qhBAAO,MAAMA,EAAsBC,GAClBA,EAAWC,KACxB,EAACC,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,IAAEA,EAAGC,UAAEA,EAASC,YAAEA,EAAWC,UAAEA,KAAgB,oEAEzDL,2BACAD,4BACCE,8BACEE,iCACGC,oCACGC,EAAU,GAAGC,sCACdD,EAAU,GAAGE,qCACbF,EAAU,GAAGC,qCACdD,EAAU,GAAGE,sCACXF,EAAU,GAAGC,sCACdD,EAAU,GAAGE,+EAEoBL,gHAEYH,WAAoBC,yLAK5DA,4CACAC,2CAI/BO,KAAK,I,WC5BT,IAAAC,EAAAC,EAAA,SCAAD,EAAAC,EAAA,SAEO,MAAMC,EAAiBC,SAASC,cAAc,qBAE5BC,iBACI,EAAAL,EAAAM,oBACCjB,KACtB,EAACK,UAAEA,KAAgB,mLAEgGA,iCAErHa,OAAOR,KAAK,IAIlBS,GACKC,MAAMC,IACHR,EAAeS,mBAAmB,YAAaD,EAAK,IAEvDE,OAAOC,IACJC,QAAQC,IAAI,MAAOF,EAAI,I,aChBxB,MAAMG,EAAgBb,SAASC,cAAc,uBAC7BD,SAASC,cAAc,eAyB9CF,EAAee,iBAAiB,SAlBPC,IACrB,GAAIA,EAAEC,OAAOC,aAAa,yBAA0B,CAEhD,MAAMC,EAAYH,EAAEC,OAAOG,UAAUC,MAAM,KAC3CF,EAAUG,MACV,MAAMC,EAAaP,EAAEC,OAAOG,UAAUC,MAAM,KAAKL,EAAEC,OAAOG,UAAUC,MAAM,KAAKG,OAAS,GATnErB,OAAOsB,SACnB,EAAA3B,EAAA4B,oBAAmBD,GAS5BE,CAAqBX,EAAEC,OAAOG,WACzBb,MAAMC,IACHM,EAAcc,UAAUC,IAAI,aAC5Bf,EAAcgB,UAAY,GAAGX,EAAUtB,KAAK,uDACjB0B,WAE3BQ,EAAaD,UAAY7C,EAAmBuB,GAC5CI,QAAQC,IAAI,OAAQL,EAAK,G,KFrBlC,MAAMuB,EAAe9B,SAASC,cAAc,cACnD,IAAI8B,EAAiB,EACjBC,EAAc,KAElB,MAQMC,EAAqB,KACjBpB,EAAcc,UAAUO,SAAS,aAGrCC,EAAoBjC,UACxB,GAAK+B,IAEL,IACE,MAAMG,QAAmB,EAAAvC,EAAAwC,eACzB,GAA0B,IAAtBD,EAAWb,OAAc,OAE7B,MAAMe,EAAkBF,EAAWlD,KAAI,EAACqD,MAAEA,EAAKhD,UAAEA,MAC/C,MAAMiD,EAAaD,EAAME,MAAM,EAAGV,GAClC,MAAO,uEAC2BxC,wEAElBP,EAAmBwD,kFAEajD,2CAClC,IAGhBuC,EAAaD,UAAYS,EAAgB1C,KAAK,G,CAC9C,MAAO8C,GACP/B,QAAQ+B,MAAMA,E,GASZC,EAzCW,EAACC,EAAMC,KACtB,IAAIC,EACJ,MAAO,IAAIC,KACTC,aAAaF,GACbA,EAAYG,YAAW,IAAML,KAAQG,IAAOF,EAAM,CACnD,EAoC2BK,EALT,KACnBnB,EAAiBE,IAcbkB,OAAOC,WAAW,sBAAsBC,QACnC,EACEF,OAAOC,WAAW,8CAA8CC,QAClE,EAEA,EAnB2DtB,EACpEI,GAAmB,GAGgC,KACrDgB,OAAOrC,iBAAiB,SAAU6B,GAE9BV,IACFE,IAEAH,EAAcF,EAAaD,UAmB7BsB,OAAOrC,iBAAiB,UANF,MACfmB,KAAwBD,IAC3BF,EAAaD,UAAYG,EAAW,I,kDGtExCsB,EAAiBC,KAAKC,MAAM,qzBCETxD,SAASC,cAAc,0BAEpB4B,UAAY4B,EAAAH,GAAMpE,KAAI,EAACE,MAAEA,EAAKO,IAAEA,KAAU,8JAE+CA,MAAQP,yBAEjHQ,KAAK","sources":["src/js/markup-books.js","src/js/get-top-books.js","src/js/renderCategories.js","src/js/createCategoryMarcup.js","src/fonds.json","src/js/createFoundsMarcup.js"],"sourcesContent":["export const makeMarkupForBooks = (booksArray) => {\n  const markup = booksArray.map(\n    ({ book_image, title, author, _id, list_name, description, buy_links }) => `\n      <li class=\"book-item\" class=\"_list\"\n        data-title=\"${title}\"\n        data-image=\"${book_image}\"\n        data-author=\"${author}\"\n        data-listName=\"${list_name}\"\n        data-description=\"${description}\"\n        data-linkNameAmazon=\"${buy_links[0].name}\"\n        data-linkUrlAmazon=\"${buy_links[0].url}\"\n        data-linkNameApple=\"${buy_links[1].name}\"\n        data-linkUrlApple=\"${buy_links[1].url}\"\n        data-linkNameBarnes=\"${buy_links[2].name}\"\n        data-linkUrlBarnes=\"${buy_links[2].url}\"\n      >\n        <a href=\"#\" class=\"_link\" class=\"book-item\" data-id=\"${_id}\">\n          <div class=\"thumb\">\n            <img class=\"lazyload\" src=\"../images/testBook.png\" data-src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\"/>\n            <div class=\"overlay\">\n              <p class=\"overlay-text\">quick view </p>\n            </div>\n          </div>\n          <h3 class=\"book-title\">${title}</h3>\n          <p class=\"book-author\">${author}</p>\n        </a>\n      </li>\n    `\n  ).join('');\n  return markup;\n};\n\n\n\n","import { getTopBooks } from './axios-get';\nimport { makeMarkupForBooks } from './markup-books';\nimport { categoryTitle } from './createCategoryMarcup';\n\nexport const mainBookList = document.querySelector('.best_list');\nlet numBooksPerRow = 5;\nlet savedMarkup = null;\n\nconst debounce = (func, delay) => {\n  let timeoutId;\n  return (...args) => {\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => func(...args), delay);\n  };\n};\n\nconst shouldRenderMarkup = () => {\n  return !categoryTitle.classList.contains('no-change');\n};\n\nconst renderStartMarkup = async () => {\n  if (!shouldRenderMarkup()) return;\n\n  try {\n    const dataMarkup = await getTopBooks();\n    if (dataMarkup.length === 0) return;\n\n    const firstIndexBooks = dataMarkup.map(({ books, list_name }) => {\n      const booksSlice = books.slice(0, numBooksPerRow);\n      return `<li class='best-item _list'>\n                <h4 class='min-title'>${list_name}</h4>\n                <ul class='books-list'>\n                    ${makeMarkupForBooks(booksSlice)}\n                </ul>\n                <button class='see_more' data-name=\"${list_name}\">See More</button>\n              </li>`;\n    });\n\n    mainBookList.innerHTML = firstIndexBooks.join('');\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nconst handleResize = () => {\n  numBooksPerRow = shouldRenderMarkup() ? determineNumBooksPerRow() : numBooksPerRow;\n  renderStartMarkup();\n};\n\nconst debouncedHandleResize = debounce(handleResize, 250);\nwindow.addEventListener('resize', debouncedHandleResize);\n\nif (shouldRenderMarkup()) {\n  renderStartMarkup();\n} else {\n  savedMarkup = mainBookList.innerHTML; \n}\n\nfunction determineNumBooksPerRow() {\n  if (window.matchMedia('(max-width: 767px)').matches) {\n    return 1;\n  } else if (window.matchMedia('(min-width: 768px) and (max-width: 1439px)').matches) {\n    return 3;\n  } else {\n    return 5;\n  }\n}\n\nconst restoreMarkup = () => {\n  if (!shouldRenderMarkup() && savedMarkup) {\n    mainBookList.innerHTML = savedMarkup;\n  }\n};\n\nwindow.addEventListener('resize', restoreMarkup);\n","import { getCategoryList } from \"./axios-get\";\n\nexport const categoriesList = document.querySelector('.categories__list');\n\nconst renderCategories = async () => {\n    const categories = await getCategoryList();\n    const markup = categories.map(\n        ({ list_name }) => `\n                <li class='categories__item _list'>\n                    <a data-categories__item rel='noopener no-referrel nofollow' class='categories__link _link' href='#'>${list_name}</a>\n                </li>`\n    ).sort().join('');\n    return markup;\n};\n\nrenderCategories()\n    .then((resp) => {\n        categoriesList.insertAdjacentHTML('beforeend', resp);\n    })\n    .catch((err) => {\n        console.log('err', err)\n    });\n\n","import { categoriesList } from './renderCategories';\nimport { getBooksByCategory } from \"./axios-get\";\nimport { mainBookList } from './get-top-books';\nimport { makeMarkupForBooks } from './markup-books';\nexport const categoryTitle = document.querySelector('.title_best-sellers');\nconst categoryAccent = document.querySelector('.title_book');\n\n\nconst createCategoryMarcup = async (category) => {\n    return await getBooksByCategory(category);\n};\n\nconst onCategoryClick = (e) => {\n    if (e.target.hasAttribute('data-categories__item')) {\n        \n        const titleTExt = e.target.innerText.split(' ');\n        titleTExt.pop();\n        const accentText = e.target.innerText.split(' ')[e.target.innerText.split(' ').length - 1];\n        createCategoryMarcup(e.target.innerText)\n            .then((resp) => {\n                categoryTitle.classList.add('no-change');\n                categoryTitle.innerHTML = `${titleTExt.join(' ')}&nbsp\n                <span class=\"title_book\">${accentText}</span>`;\n\n                mainBookList.innerHTML = makeMarkupForBooks(resp);\n                console.log('resp', resp)\n            })\n    }\n};\n\ncategoriesList.addEventListener('click', onCategoryClick);","[\n    { \n        \"title\": \"Save the Children\",\n        \"img\": \"\",\n        \"url\": \"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis\"\n    },\n    {\n        \"title\": \"Project HOPE\",\n        \"img\": \"\",\n        \"url\": \"https://www.projecthope.org/country/ukraine/\"\n    },\n    {\n        \"title\": \"UNITED24\",\n        \"img\": \"\",\n        \"url\": \"https://u24.gov.ua/uk\"\n    },\n    {\n        \"title\": \"International Medical Corps\",\n        \"img\": \"\",\n        \"url\": \"https://internationalmedicalcorps.org/country/ukraine/\"\n    },\n    {\n        \"title\": \"Medicins Sans Frontieres\",\n        \"img\": \"\",\n        \"url\": \"https://www.msf.org/ukraine\"\n    },\n    {\n        \"title\": \"RAZOM\",\n        \"img\": \"\",\n        \"url\": \"https://www.razomforukraine.org/\"\n    },\n    {\n        \"title\": \"Action against hunger\",\n        \"img\": \"\",\n        \"url\": \"https://www.actionagainsthunger.org/location/europe/ukraine/\"\n    },\n    {\n        \"title\": \"World vision\",\n        \"img\": \"\",\n        \"url\": \"https://www.wvi.org/emergencies/ukraine\"\n    },\n    {\n        \"title\": \"Serhiy Prytula Charity Foundation\",\n        \"img\": \"\",\n        \"url\": \"https://prytulafoundation.org/en\"\n    }\n]","import fonds from '../fonds.json';\n\nconst foundsList = document.querySelector('.support-ukraine__list');\nconst createFoundsMarcup = () => {\n    return foundsList.innerHTML = fonds.map(({ title, url }) => `\n        <li class='support-ukraine__item'>\n            <a target=\"_blank\" rel='noopener no-referrel nofollow' class='support-ukraine__link _link' href='${url}'>${title}</a>\n        </li>`\n    ).join('');\n}\n\ncreateFoundsMarcup();"],"names":["$0748698d39923467$export$c2ff2758ce23ccbb","booksArray","map","book_image","title","author","_id","list_name","description","buy_links","name","url","join","$du6kM","parcelRequire","$0062a3ce137c21ac$export$94bc654d13d3e8cb","document","querySelector","async","getCategoryList","sort","$0062a3ce137c21ac$var$renderCategories","then","resp","insertAdjacentHTML","catch","err","console","log","$2c4cada00c5298b3$export$fc6e89e9bf9f348b","addEventListener","e","target","hasAttribute","titleTExt","innerText","split","pop","accentText","length","category","getBooksByCategory","$2c4cada00c5298b3$var$createCategoryMarcup","classList","add","innerHTML","$90e6a17a15f2fb61$export$354f2e393cddbae9","$90e6a17a15f2fb61$var$numBooksPerRow","$90e6a17a15f2fb61$var$savedMarkup","$90e6a17a15f2fb61$var$shouldRenderMarkup","contains","$90e6a17a15f2fb61$var$renderStartMarkup","dataMarkup","getTopBooks","firstIndexBooks","books","booksSlice","slice","error","$90e6a17a15f2fb61$var$debouncedHandleResize","func","delay","timeoutId","args","clearTimeout","setTimeout","$90e6a17a15f2fb61$var$debounce","window","matchMedia","matches","$3e079012d4bd0ddd$exports","JSON","parse","$parcel$interopDefault"],"version":3,"file":"index.615eff52.js.map"}